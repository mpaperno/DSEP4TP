<!-- HTML header for doxygen 1.9.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dynamic Script Engine Plugin for Touch Portal: Settings, States and Events</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init();
    DoxygenAwesomeParagraphLink.init();
    DoxygenAwesomeInteractiveToc.init();
    // hide the Documentation header and sidebar link since it's redundant when on the docs site already.
    $(window).on('load', () => {
      function removeElements() {
        if (!$("a[class='index.html:autotoc_md11']").length)
          setTimeout(removeElements, 10);
        var el = document.getElementById("autotoc_md11"),
          els = document.getElementsByClassName("index.html:autotoc_md11");
        if (el)
          el.parentNode.style.display = 'none';
        if (els.length)
          els[0].parentElement.parentElement.parentElement.style.display= 'none';
      };
      removeElements();
    });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/mpaperno/DSEP4TP" class="github-corner" title="View source on GitHub" target="_blank">
    <svg viewBox="0 0 250 250" width="40" height="40" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z" fill="url(#gradient)"></path>
    <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
    <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    <linearGradient id="gradient" x1="0.5" x2="0.5" y1="0" y2="1">
        <stop class="first-stop" offset="0%"></stop>
        <stop class="last-stop" offset="100%"></stop>
    </linearGradient>
    </svg>
</a>
<style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Logo.png" title="Dynamic Script Engine Plugin for Touch Portal - A complete, standalone, multi-threaded JavaScript environment available as a plugin for use with Touch Portal macro launcher software."/></td>
  <td id="projectalign">
   <div id="projectname"><!-- Dynamic Script Engine Plugin for Touch Portal --><span id="projectnumber">&#160;v1.2.0.0-alpha1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('plugin_states.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Settings, States and Events </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md62">Settings</a></li>
<li class="level1"><a href="#autotoc_md63">States</a></li>
<li class="level1"><a href="#autotoc_md64">Event</a></li>
</ul>
</div>
<div class="textblock"><p ><a class="anchor" id="md_pages_States"></a></p>
<h1><a class="anchor" id="autotoc_md62"></a>
Settings</h1>
<p >The plugin settings screen is accessed from the Touch Portal main Settings dialog, which is found by clicking on the gear icon at top right of the main screen, the selecting <em>Settings -&gt; Plug-ins -&gt; Dynamic Script Engine</em>.</p>
<p ><a href="images/misc/settings-v1_2.png" target="fullSizeImg"><img src="images/misc/settings-v1_2.png?" alt="" style="max-width: 470px" class="inline"/></a></p>
<p >Besides providing access to some basic plugin settings, this screen also shows the currently installed plugin version, although in a somewhat "encoded" format. To "translate" it to published version numbers, read it from right to left and put a dot after every 2 digits.<br  />
 So in this example the version number is <code>1.02.00.00</code>, which, w/out the "extra" zeros, comes out as 1.2.0.0 and corresponds to the version number format used everywhere else in the real world. (This version format is a "TP thing" and beyond my control.)</p>
<ul>
<li><b>Script Files Base Directory</b> - This controls where the plugin looks for script and module files when they are specified in actions/connectors using relative system paths (vs. absolute paths which include the drive letter or root directory). By default the plugin will look for scripts relative to its installation folder, which generally is not very useful. This settings can be any valid folder/directory path on your system to which Touch Portal (and this plugin) will have at least read-only permission.</li>
<li><b>Load Script At Startup</b> - Optionally any script file can be loaded and evaluated at plugin start, right after a connection to Touch Portal has been established (and before any other saved scripts load). The script will be loaded into the Shared engine instance.<br  />
 Relative paths are resolved using the <em>Script Files Base Directory</em> setting, above.</li>
<li><b>Settings Version</b> - This is a read-only "setting" for internal plugin use in case of future changes to the settings structure.</li>
</ul>
<h1><a class="anchor" id="autotoc_md63"></a>
States</h1>
<ul>
<li><b>List of created named instances</b> - This state contains a list of all the dynamic expression/script instances created by the plugin. It may be useful to check (visually or with a conditional expression) whether an instance exists, for example to indicate an error condition if it doesn't or only create a new instance inside an Event if it doesn't already exist.</li>
<li><b>Cumulative script error count</b> - A running count of script errors which increments on each exception. This is useful as a trigger for some Touch Portal event which would notify you that a new error occurred. A button that turns red or something.</li>
<li><b>Last script instance error</b> - This state will update every time the script error count changes and will contain the text of the last script error message. This could be shown somewhere in a Touch Portal page for example. The error message includes the error number (which always increments) and a time stamp, so therefore will always be unique and can be safely used in Touch Portal's "when plug-in state changes" event.</li>
<li><b>Plugin running state</b> - This value is always one of: "Stopped", "Starting", or "Started". It reflects the current state of the plugin <em>when it is operating normally.</em> Meaning that if it crashes unexpectedly, this state will <em>not</em> get updated. If the plugin is stopped or started in a normal fashion (eg. via Settings -&gt; Plug-ins -&gt; Stop/Start) then this status will be correct. Also see the corresponding Event, below.</li>
<li><b>Default held action Repeat Delay (ms)</b> - This reflects the currently set default Action Repeat Delay setting, which is controllable by provided actions/connectors (as described in the respective documentation), or from within the scripting environment itself.</li>
<li><b>Default held action Repeat Rate (ms)</b> - This reflects the currently set default Action Repeat Rate setting, which is controllable by provided actions/connectors (as described in the respective documentation), or from within the scripting environment itself.</li>
<li><b>Touch Portal data folder (current user)</b> - This is a "convenience" State not directly related to this plugin but is useful since Touch Portal doesn't currently have a value to reflect this setting. The value of this State always corresponds to the "data" folder, where all the settings, pages, plugins, etc, are stored. This should be the same path as shown in <a class="el" href="class_t_p.html" title="The global TP namespace is used as a container for all Touch Portal API methods, which are invoked wi...">TP</a>'s <em>Settings -&gt; Info</em> dialog for the <em>Data folder</em> entry.</li>
<li><b>Name of Page currently active on <a class="el" href="class_t_p.html" title="The global TP namespace is used as a container for all Touch Portal API methods, which are invoked wi...">TP</a> device</b> - Another "convenience" since there is no way to get this information right now in a Touch Portal actin flow. The value reflects the last page that was opened on the connected Touch Portal device, and changes accordingly. <b>Note:</b> This value is empty/blank until at least one page change has happened on the device <em>after</em> the plugin has been started. Touch Portal only sends page change notices to plugins when the change happens, not when the plugin first connects.</li>
</ul>
<h1><a class="anchor" id="autotoc_md64"></a>
Event</h1>
<ul>
<li><b>Plugin running state change</b> - This Event corresponds to the <em>Plugin running state</em> State described above. It has the 3 corresponding choices for plugin status &ndash; "Stopped", "Starting", and "Started". It could be used to change an indicator on a button, for example.</li>
</ul>
<p ><a href="images/misc/running-state-event.png" target="fullSizeImg"><img src="images/misc/running-state-event.png?" alt="" style="max-width: 470px" class="inline"/></a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.4-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="documentation.html">Plugin Documentation</a></li>
    <li class="footer">Generated for Dynamic Script Engine Plugin for Touch Portal &#160;v1.2.0.0-alpha1 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
