{"FF":"Syne Mono","A":[{"comment":"Pressing the log window will clear it and display a message.  This also sets the default value for when the State is first crated at plugin startup.","KEY_TYPE":"COMMENT_ACTION"},{"kPlugType":2,"kID":"us.paperno.max.tpp.dsep.act.script.import","kPrefix":"Dynamic Script Engine","kInline":"false","kHHF":"false","kcD":-14863547,"kPID":"us.paperno.max.tpp.dsep","kData":[{"default":"","id":"us.paperno.max.tpp.dsep.act.script.import.name","label":"State Name","type":"text"},{"default":"","id":"us.paperno.max.tpp.dsep.act.script.import.file","label":"Module File","type":"text"},{"default":"M","id":"us.paperno.max.tpp.dsep.act.script.import.alias","label":"Module Alias","type":"text"},{"default":"M.run([arguments])","id":"us.paperno.max.tpp.dsep.act.script.import.expr","label":"Expression","type":"text"},{"default":"Private","id":"us.paperno.max.tpp.dsep.act.script.import.scope","label":"Engine Instance","valueChoices":["Shared","Private"],"type":"choice"},{"default":"No","id":"us.paperno.max.tpp.dsep.act.script.import.save","label":"Create at Startup","valueChoices":["No","Fixed\nValue","Custom\nExpression","Use Action's\nExpression"],"type":"choice"},{"default":"","id":"us.paperno.max.tpp.dsep.act.script.import.default","label":"Default Value/Expression","type":"text"}],"kVals":[{"VAL":"DSE_ErrorLog","ID":"us.paperno.max.tpp.dsep.act.script.import.name","TYPE":"text"},{"VAL":"../examples/line_logger.js","ID":"us.paperno.max.tpp.dsep.act.script.import.file","TYPE":"text"},{"VAL":"M","ID":"us.paperno.max.tpp.dsep.act.script.import.alias","TYPE":"text"},{"VAL":"M.clear()","ID":"us.paperno.max.tpp.dsep.act.script.import.expr","TYPE":"text"},{"VAL":"Private","ID":"us.paperno.max.tpp.dsep.act.script.import.scope","TYPE":"choice"},{"VAL":"Fixed\nValue","ID":"us.paperno.max.tpp.dsep.act.script.import.save","TYPE":"choice"},{"VAL":"Script Error Log (empty)","ID":"us.paperno.max.tpp.dsep.act.script.import.default","TYPE":"text"}],"kStatic":"false","kcL":-13609354,"kDesc":"Dynamic Script Engine: Import a JavaScript Module. Modules can load other modules and are cached for improved performance.\nModule properties are accessed via the alias (like in JS). An optional JavaScript expression can be evaluated after the import, eg. to run a function with dynamic value arguments.","kET":0,"KEY_TYPE":"PLUGIN_ACTION","kFormat":"State\nName{$us.paperno.max.tpp.dsep.act.script.import.name$}import {*}\nfrom (file){$us.paperno.max.tpp.dsep.act.script.import.file$} as\n(alias){$us.paperno.max.tpp.dsep.act.script.import.alias$} and evaluate\nexpression{$us.paperno.max.tpp.dsep.act.script.import.expr$} Engine\nInstance{$us.paperno.max.tpp.dsep.act.script.import.scope$} | Create State\n| \u2001at Startup{$us.paperno.max.tpp.dsep.act.script.import.save$} Default\nValue/Expr{$us.paperno.max.tpp.dsep.act.script.import.default$}","kName":"Import Module File"}],"BD":1,"C":[],"BE":-16777216,"kSCM":25,"BG":-15066598,"E":[{"comment":"This event uses the plugin's error count State to trigger the flow. The error count will always increment on each error in the scripting engine.","KEY_TYPE":"COMMENT_ACTION"},{"KEY_STATE_DESCRIPTION":"On state changes to","kPSC":true,"KEY_IS_NOT_EQUAL":false,"kCSC":1,"KEY_STATE":"0","KEY_STATE_ID":"us.paperno.max.tpp.dsep.state.errorCount","KEY_TYPE":"ON_STATE_AWARENESS_CHANGE","kICustom":false},{"comment":"Check that the error message isn't from this script itself.  This may cause an infinite loop.","KEY_TYPE":"COMMENT_ACTION"},{"kL":[{"val":"DSE_ErrorLog","vari":"us.paperno.max.tpp.dsep.state.lastError","cmp":5,"lc":0,"varc":"${value:us.paperno.max.tpp.dsep.state.lastError}","varp":"Dynamic Script Engine: Last script instance error"}],"KEY_TYPE":"EXTENDED_IF_STATEMENT"},{"comment":"Sanitize the value to escape all backslashes and double quotes. These will cause errors in the parsing script.","KEY_TYPE":"COMMENT_ACTION"},{"kSI":"$local{state01}","kPN":"Local Value 01","KEY_TYPE":"SET_CUSTOM_STATE_ACTION","kSV":"${value:us.paperno.max.tpp.dsep.state.lastError}"},{"kR":"\\\\","kS":"{\"STATE_ID\":\"$local{state01}\",\"STATE_PRETTY_NAME\":\"Local Value 01\",\"kiP\":0,\"STATE_COLOR\":\"#4682d4\",\"kT\":-1,\"STATE_DEFAULT_VALUE\":\"\"}","kV":"\\\\\\\\","KEY_TYPE":"LOGIC_REPLACE_IN_STATE_ACTION"},{"kR":"\"","kS":"{\"STATE_ID\":\"$local{state01}\",\"STATE_PRETTY_NAME\":\"Local Value 01\",\"kiP\":0,\"STATE_COLOR\":\"#4682d4\",\"kT\":-1,\"STATE_DEFAULT_VALUE\":\"\"}","kV":"\\\\\"","KEY_TYPE":"LOGIC_REPLACE_IN_STATE_ACTION"},{"comment":"Load the logger script as a module and send it the data using the 'append()' function in that module.  The function parameters are:\n1. The message to log (the error we just sanitized, wrapped in double quotes).\n2. Maximum number of messages/lines to keep in the view at once.\n3. true/false indicating if the log lines should have color formatting applied (this may crash iOS devices).","KEY_TYPE":"COMMENT_ACTION"},{"kPlugType":2,"kID":"us.paperno.max.tpp.dsep.act.script.import","kPrefix":"Dynamic Script Engine","kInline":"false","kHHF":"false","kcD":-14863547,"kPID":"us.paperno.max.tpp.dsep","kData":[{"default":"","id":"us.paperno.max.tpp.dsep.act.script.import.name","label":"State Name","type":"text"},{"default":"","id":"us.paperno.max.tpp.dsep.act.script.import.file","label":"Module File","type":"text"},{"default":"M","id":"us.paperno.max.tpp.dsep.act.script.import.alias","label":"Module Alias","type":"text"},{"default":"M.run([arguments])","id":"us.paperno.max.tpp.dsep.act.script.import.expr","label":"Expression","type":"text"},{"default":"Private","id":"us.paperno.max.tpp.dsep.act.script.import.scope","label":"Engine Instance","valueChoices":["Shared","Private"],"type":"choice"},{"default":"No","id":"us.paperno.max.tpp.dsep.act.script.import.save","label":"Create at Startup","valueChoices":["No","Fixed\nValue","Custom\nExpression","Use Action's\nExpression"],"type":"choice"},{"default":"","id":"us.paperno.max.tpp.dsep.act.script.import.default","label":"Default Value/Expression","type":"text"}],"kVals":[{"VAL":"DSE_ErrorLog","ID":"us.paperno.max.tpp.dsep.act.script.import.name","TYPE":"text"},{"VAL":"../examples/line_logger.js","ID":"us.paperno.max.tpp.dsep.act.script.import.file","TYPE":"text"},{"VAL":"M","ID":"us.paperno.max.tpp.dsep.act.script.import.alias","TYPE":"text"},{"VAL":"M.append(\"$local{state01}\", 5, true)","ID":"us.paperno.max.tpp.dsep.act.script.import.expr","TYPE":"text"},{"VAL":"Private","ID":"us.paperno.max.tpp.dsep.act.script.import.scope","TYPE":"choice"},{"VAL":"Fixed\nValue","ID":"us.paperno.max.tpp.dsep.act.script.import.save","TYPE":"choice"},{"VAL":"Script Error Log (empty)","ID":"us.paperno.max.tpp.dsep.act.script.import.default","TYPE":"text"}],"kStatic":"false","kcL":-13609354,"kDesc":"Dynamic Script Engine: Import a JavaScript Module. Modules can load other modules and are cached for improved performance.\nModule properties are accessed via the alias (like in JS). An optional JavaScript expression can be evaluated after the import, eg. to run a function with dynamic value arguments.","kET":0,"KEY_TYPE":"PLUGIN_ACTION","kFormat":"State\nName{$us.paperno.max.tpp.dsep.act.script.import.name$}import {*}\nfrom (file){$us.paperno.max.tpp.dsep.act.script.import.file$} as\n(alias){$us.paperno.max.tpp.dsep.act.script.import.alias$} and evaluate\nexpression{$us.paperno.max.tpp.dsep.act.script.import.expr$} Engine\nInstance{$us.paperno.max.tpp.dsep.act.script.import.scope$} | Create State\n| \u2001at Startup{$us.paperno.max.tpp.dsep.act.script.import.save$} Default\nValue/Expr{$us.paperno.max.tpp.dsep.act.script.import.default$}","kName":"Import Module File"},{"comment":"Flash the log window to indicate an error happened.","KEY_TYPE":"COMMENT_ACTION"},{"KEY_START_COLOR":-3258553,"KEY_IS_ROUNDED":false,"KEY_IS_CHANGE_ICON":false,"KEY_END_COLOR":-9371648,"kiBD":false,"KEY_IS_CHANGE_IS_ROUNDED":false,"KEY_ALIGN_HOR":0,"KEY_IS_CHANGE_IS_TRANSPARENT":false,"KEY_TITLE":"${value:us.paperno.max.tpp.dsep.state.lastError}","KEY_IS_FULL_ICON":false,"KEY_IS_CHANGE_ALIGN_VERT":false,"KEY_IS_CHANGE_IS_FULL_ICON":false,"kIAs":[],"KEY_IS_TRANSPARENT":false,"KEY_ALIGN_VERT":0,"KEY_TEXT_COLOR":-1,"KEY_IS_CHANGE_TITLE":false,"kTS":-1,"kBD":1,"KEY_IS_CHANGE_TEXT_COLOR":false,"KEY_FILENAME":"","KEY_IS_CHANGE_ALIGN_HOR":false,"kC":false,"KEY_TYPE":"CHANGE_BUTTON_VISUALS_ACTION","KEY_IS_CHANGE_BG_COLOR":true},{"TT":0,"KEY_TIMER_VALUE":"300","kTS":1,"KEY_TYPE":"TIMER_ACTION"},{"KEY_START_COLOR":-15066598,"KEY_IS_ROUNDED":false,"KEY_IS_CHANGE_ICON":false,"KEY_END_COLOR":-16777216,"kiBD":false,"KEY_IS_CHANGE_IS_ROUNDED":false,"KEY_ALIGN_HOR":0,"KEY_IS_CHANGE_IS_TRANSPARENT":false,"KEY_TITLE":"","KEY_IS_FULL_ICON":false,"KEY_IS_CHANGE_ALIGN_VERT":false,"KEY_IS_CHANGE_IS_FULL_ICON":false,"kIAs":[],"KEY_IS_TRANSPARENT":false,"KEY_ALIGN_VERT":0,"KEY_TEXT_COLOR":-1,"KEY_IS_CHANGE_TITLE":false,"kTS":-1,"kBD":1,"KEY_IS_CHANGE_TEXT_COLOR":false,"KEY_FILENAME":"","KEY_IS_CHANGE_ALIGN_HOR":false,"kC":false,"KEY_TYPE":"CHANGE_BUTTON_VISUALS_ACTION","KEY_IS_CHANGE_BG_COLOR":true},{"TT":0,"KEY_TIMER_VALUE":"150","kTS":1,"KEY_TYPE":"TIMER_ACTION"},{"KEY_START_COLOR":-3258553,"KEY_IS_ROUNDED":false,"KEY_IS_CHANGE_ICON":false,"KEY_END_COLOR":-9371648,"kiBD":false,"KEY_IS_CHANGE_IS_ROUNDED":false,"KEY_ALIGN_HOR":0,"KEY_IS_CHANGE_IS_TRANSPARENT":false,"KEY_TITLE":"","KEY_IS_FULL_ICON":false,"KEY_IS_CHANGE_ALIGN_VERT":false,"KEY_IS_CHANGE_IS_FULL_ICON":false,"kIAs":[],"KEY_IS_TRANSPARENT":false,"KEY_ALIGN_VERT":0,"KEY_TEXT_COLOR":-1,"KEY_IS_CHANGE_TITLE":false,"kTS":-1,"kBD":1,"KEY_IS_CHANGE_TEXT_COLOR":false,"KEY_FILENAME":"","KEY_IS_CHANGE_ALIGN_HOR":false,"kC":false,"KEY_TYPE":"CHANGE_BUTTON_VISUALS_ACTION","KEY_IS_CHANGE_BG_COLOR":true},{"TT":0,"KEY_TIMER_VALUE":"300","kTS":1,"KEY_TYPE":"TIMER_ACTION"},{"KEY_START_COLOR":-15066598,"KEY_IS_ROUNDED":false,"KEY_IS_CHANGE_ICON":false,"KEY_END_COLOR":-16777216,"kiBD":false,"KEY_IS_CHANGE_IS_ROUNDED":false,"KEY_ALIGN_HOR":0,"KEY_IS_CHANGE_IS_TRANSPARENT":false,"KEY_TITLE":"","KEY_IS_FULL_ICON":false,"KEY_IS_CHANGE_ALIGN_VERT":false,"KEY_IS_CHANGE_IS_FULL_ICON":false,"kIAs":[],"KEY_IS_TRANSPARENT":false,"KEY_ALIGN_VERT":0,"KEY_TEXT_COLOR":-1,"KEY_IS_CHANGE_TITLE":false,"kTS":-1,"kBD":1,"KEY_IS_CHANGE_TEXT_COLOR":false,"KEY_FILENAME":"","KEY_IS_CHANGE_ALIGN_HOR":false,"kC":false,"KEY_TYPE":"CHANGE_BUTTON_VISUALS_ACTION","KEY_IS_CHANGE_BG_COLOR":true},{"KEY_TYPE":"LOGIC_IF_END_ACTION"},{"comment":"Update the display when the script sends new data and the actual State changes. \nThis may not happen right away after we send the new log line above, so it is best to check for changes separately so that no messages are missed.","KEY_TYPE":"COMMENT_ACTION"},{"KEY_STATE_DESCRIPTION":"On state changes to","kPSC":true,"KEY_IS_NOT_EQUAL":false,"kCSC":1,"KEY_STATE":"null","KEY_STATE_ID":"dsep.DSE_ErrorLog","KEY_TYPE":"ON_STATE_AWARENESS_CHANGE","kICustom":false},{"KEY_START_COLOR":-1,"KEY_IS_ROUNDED":false,"KEY_IS_CHANGE_ICON":false,"KEY_END_COLOR":-1,"kiBD":false,"KEY_IS_CHANGE_IS_ROUNDED":false,"KEY_ALIGN_HOR":0,"KEY_IS_CHANGE_IS_TRANSPARENT":false,"KEY_TITLE":"${value:dsep.DSE_ErrorLog}","KEY_IS_FULL_ICON":false,"KEY_IS_CHANGE_ALIGN_VERT":false,"KEY_IS_CHANGE_IS_FULL_ICON":false,"kIAs":[],"KEY_IS_TRANSPARENT":false,"KEY_ALIGN_VERT":0,"KEY_TEXT_COLOR":-1,"KEY_IS_CHANGE_TITLE":true,"kTS":-1,"kBD":1,"KEY_IS_CHANGE_TEXT_COLOR":false,"KEY_FILENAME":"","KEY_IS_CHANGE_ALIGN_HOR":false,"kC":false,"KEY_TYPE":"CHANGE_BUTTON_VISUALS_ACTION","KEY_IS_CHANGE_BG_COLOR":false}],"kIAPBKC":-14803426,"I":"","ITS":false,"BiR":false,"kSCTY":0,"BiT":false,"kSCHS":false,"inS":"","IiS":true,"T":"Script Errors","kSCAC":-14145496,"kSCC":-4611631,"kSCHRC":false,"THO":1,"id":"u678aze977bgs","GUdata":"{\"data\":{\"array\":[{\"kT\":\"1\"},{\"kC\":\"#ff000000\"},{\"kM\":\"0\"},{\"kR\":\"4\"}]},\"optionId\":2}","kSCIUFATS":false,"kCT":1,"kSIP":0,"TELS":5,"kSCI":"","kIAs":[],"GUid":101,"kSCIIVA":true,"COLS":9,"TA":4,"TC":-3355597,"kSVP":0,"kSTP":0,"kSVAC":-10575407,"TO":4,"TP":1,"inB":false,"EXP":[],"kSD":0,"kSCTM":0,"TS":13,"inC":0,"ROWS":2}