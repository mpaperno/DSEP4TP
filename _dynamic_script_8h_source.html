<!-- HTML header for doxygen 1.9.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dynamic Script Engine Plugin for Touch Portal: D:/Devel/TouchPortal/DynamicScriptEngine/DSEP4TP/src/DynamicScript.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init();
    DoxygenAwesomeParagraphLink.init();
    DoxygenAwesomeInteractiveToc.init();
    // hide the Documentation header and sidebar link since it's redundant when on the docs site already.
    $(window).on('load', () => {
      function removeElements() {
        if (!$("a[class='index.html:autotoc_md11']").length)
          setTimeout(removeElements, 10);
        var el = document.getElementById("autotoc_md11"),
          els = document.getElementsByClassName("index.html:autotoc_md11");
        if (el)
          el.parentNode.style.display = 'none';
        if (els.length)
          els[0].parentElement.parentElement.parentElement.style.display= 'none';
      };
      removeElements();
    });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/mpaperno/DSEP4TP" class="github-corner" title="View source on GitHub" target="_blank">
    <svg viewBox="0 0 250 250" width="40" height="40" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z" fill="url(#gradient)"></path>
    <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
    <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    <linearGradient id="gradient" x1="0.5" x2="0.5" y1="0" y2="1">
        <stop class="first-stop" offset="0%"></stop>
        <stop class="last-stop" offset="100%"></stop>
    </linearGradient>
    </svg>
</a>
<style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Logo.png" title="Dynamic Script Engine Plugin for Touch Portal - A complete, standalone, multi-threaded JavaScript environment available as a plugin for use with Touch Portal macro launcher software."/></td>
  <td id="projectalign">
   <div id="projectname"><!-- Dynamic Script Engine Plugin for Touch Portal --><span id="projectnumber">&#160;v1.2.0.1-beta1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_dynamic_script_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">DynamicScript.h</div></div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">Dynamic Script Engine Plugin for Touch Portal</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">Copyright Maxim Paperno; all rights reserved.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"></span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">This file may be used under the terms of the GNU</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">General Public License as published by the Free Software Foundation,</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">either version 3 of the License, or (at your option) any later version.</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"></span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">GNU General Public License for more details.</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment"></span> </div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment">A copy of the GNU General Public License is available at &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment"></span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">This project may also use 3rd-party Open Source software under the terms</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment">of their respective licenses. The copyright notice above does not apply</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment">to any 3rd-party components used within.</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment">*/</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;QCoreApplication&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;QDataStream&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &lt;QDateTime&gt;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &lt;QDir&gt;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &lt;QJsonObject&gt;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &lt;QJSValue&gt;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &lt;QObject&gt;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &lt;QReadWriteLock&gt;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &lt;QThread&gt;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &lt;QTimer&gt;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &lt;QWaitCondition&gt;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span> </div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &quot;DSE.h&quot;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &quot;JSError.h&quot;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#ifdef DOXYGEN</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#define QByteArray String</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="keyword">class </span>ScriptEngine;</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="keyword">class </span>Plugin;</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="comment"></span> </div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="comment">/*!</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="comment">\class DynamicScript</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="comment">\ingroup PluginAPI</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="comment">DynamicScript represents an instance of an expression, script file, or module being evaluated using a scripting engine.</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="comment">In other words, this is the type of object created by the plugin when a user invokes one of the scripting type actions this plugin provides.</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="comment"></span> </div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="comment">It has properties representing some of the action parameters which can be set in an action/connector, such as the State/instance Name, expression, file, and so on.</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="comment">Most properties are read-only, but a few can be set at runtime such as the default type/value and held action repeating delay/rate.</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="comment"></span> </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="comment">A DynamicScript object instance can be retrieved with the `DSE` object functions such as `DSE.currentInstance()`, `DSE.instance()`, or `DSE.instanceList()`.</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="comment">They cannot be created directly (eg. `new DynamicScript()` will not work).</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="comment"></span> </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="comment">\since v1.2</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="comment">*/</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="class_dynamic_script.html">   59</a></span><span class="keyword">class </span><a class="code hl_class" href="class_dynamic_script.html">DynamicScript</a> : <span class="keyword">public</span> QObject</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>{</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>  <span class="keyword">private</span>:</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    Q_OBJECT<span class="comment"></span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="comment">    //! The Instance Name of this script instance as specified in the corresponding Action which created it.</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="comment">    //! \n This property is read-only.</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="comment"></span>    Q_PROPERTY(QString <a class="code hl_property" href="class_dynamic_script.html#a9a2326f35466e54c36c070829245c557">name</a> MEMBER <a class="code hl_property" href="class_dynamic_script.html#a9a2326f35466e54c36c070829245c557">name</a> CONSTANT)</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="comment">//! \name Type, Input and Engine properties.</span><span class="comment"></span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="comment">    //! \{</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="comment">    //! The type of scripting action. `DSE.ScriptInputType` enumeration value, one of: `DSE.ExpressionInput`, `DSE.ScriptInput`, `DSE.ModuleInput`, `DSE.UnknownInputType`</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="comment">    //! \n This property is read-only.</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="comment"></span>    Q_PROPERTY(DseNS::ScriptInputType <a class="code hl_property" href="class_dynamic_script.html#a6d3b70ae6b817223ea2f380e06f6c599">inputType</a> READ <a class="code hl_property" href="class_dynamic_script.html#a6d3b70ae6b817223ea2f380e06f6c599">inputType</a> CONSTANT)<span class="comment"></span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="comment">    //! The full expression string. This is as received from Touch Portal, possibly with any TP macros already evaluated.</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="comment">    //! \n This property is read-only.</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="comment"></span>    Q_PROPERTY(QString <a class="code hl_property" href="class_dynamic_script.html#a7db9a71a3954fa572de18e1e4e3e9838">expression</a> READ <a class="code hl_property" href="class_dynamic_script.html#a7db9a71a3954fa572de18e1e4e3e9838">expression</a> CONSTANT)<span class="comment"></span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="comment">    //! The script/module file, if any. Only `DSE.ScriptInput` and `DSE.ModuleInput` \ref inputType instances will have a file, the value will be empty otherwise.</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="comment">    //! This is the actual string value specified in the Action &quot;Script File&quot; property which created this Script instance.</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="comment">    //! The \ref scriptFileResolved property contains the absolute system path to the file being loaded, potentially after resolving and normalizing the given name against the default script path.</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="comment">    //! \n This property is read-only.</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="comment"></span>    Q_PROPERTY(QString <a class="code hl_property" href="class_dynamic_script.html#a8c98cfbef302bb28a0961430d250bdd6">scriptFile</a> READ <a class="code hl_property" href="class_dynamic_script.html#a8c98cfbef302bb28a0961430d250bdd6">scriptFile</a> CONSTANT)<span class="comment"></span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="comment">    //! This property contains the absolute system path to the \ref scriptFile being loaded, potentially after resolving and normalizing the given name against the default script path.</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment">    //! \n This property is read-only.</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="comment"></span>    Q_PROPERTY(QString <a class="code hl_property" href="class_dynamic_script.html#adf95b86f61ec89522b08f3500367ce1f">scriptFileResolved</a> READ <a class="code hl_property" href="class_dynamic_script.html#adf95b86f61ec89522b08f3500367ce1f">scriptFileResolved</a> CONSTANT)<span class="comment"></span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="comment">    //! The module import alias. Only `Module` type instances will have an alias.</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="comment">    //! \n This property is read-only.</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="comment"></span>    Q_PROPERTY(QString <a class="code hl_property" href="class_dynamic_script.html#a86bf4a6461408e8b33f5005d8708978e">moduleAlias</a> READ <a class="code hl_property" href="class_dynamic_script.html#a86bf4a6461408e8b33f5005d8708978e">moduleAlias</a> CONSTANT)<span class="comment"></span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="comment">    //! This is the Engine Instance type which this script is using for its execution environment. `DSE.EngineInstanceType` enumeration value, one of: `DSE.SharedInstance` or `DSE.PrivateInstance`</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="comment">    //! \n This property is read-only.</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="comment"></span>    Q_PROPERTY(DseNS::EngineInstanceType <a class="code hl_property" href="class_dynamic_script.html#a204c28502265567652e5b10142df018e">engineType</a> READ instanceType CONSTANT)<span class="comment"></span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><span class="comment">    //! The name of the engine instance this script instance is using for its execution environment. The engine instance is specified in the Action which created this script instance.</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span><span class="comment">    //! For `Private` type script instances this may nor may not be the same as the `name` property. For `Shared` instance types this is always &quot;Shared&quot;.</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><span class="comment">    //! \n This property is read-only.</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="comment"></span>    Q_PROPERTY(QString <a class="code hl_property" href="class_dynamic_script.html#af223e08c09d71010515fccaa3f9c977a">engineName</a> READ <a class="code hl_property" href="class_dynamic_script.html#af223e08c09d71010515fccaa3f9c977a">engineName</a> CONSTANT)<span class="comment"></span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span><span class="comment">    //! \}</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span><span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="comment">    //! \name Persistence properties.</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span><span class="comment">    //! \{</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span><span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span><span class="comment">    //! Persistence essentially determines the lifespan of this script instance. &quot;Session&quot; persistence means it will exist until DSE exits. &quot;Saved&quot; means the instance data will be saved</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span><span class="comment">    //! to a settings file when DSE exits, and restored from settings the next time DSE starts. &quot;Temporary&quot; instances will be automatically deleted after a time span specified in \ref autoDeleteDelay.</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><span class="comment"></span>    Q_PROPERTY(DseNS::PersistenceType <a class="code hl_property" href="class_dynamic_script.html#a0e153e90afa5b4a75f8edd789db9e7d5">persistence</a> READ <a class="code hl_property" href="class_dynamic_script.html#a0e153e90afa5b4a75f8edd789db9e7d5">persistence</a> WRITE setPersistence)<span class="comment"></span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span><span class="comment">    //! When \ref persistence is of `DSE.PersistSave` type, this property value determines what happens when this instance is initially loaded from storage.</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span><span class="comment">    //! `DSE.SavedDefaultType` enumeration value, one of: `DSE.FixedValueDefault`, `DSE.CustomExprDefault`, `DSE.LastExprDefault`</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span><span class="comment">    //! \sa defaultValue, persistence</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span><span class="comment"></span>    Q_PROPERTY(DseNS::SavedDefaultType <a class="code hl_property" href="class_dynamic_script.html#a6a831748d097962f93bfcbd8a9fb196e">defaultType</a> READ <a class="code hl_property" href="class_dynamic_script.html#a6a831748d097962f93bfcbd8a9fb196e">defaultType</a> WRITE setDefaultType)<span class="comment"></span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span><span class="comment">    //! The default value specified for saved instance, if any. Depending on the value of \ref defaultType, this could be an empty string, a fixed default string value, or an expression to be evaluated.</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span><span class="comment">    //! \sa defaultType, persistence</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span><span class="comment"></span>    Q_PROPERTY(QByteArray <a class="code hl_property" href="class_dynamic_script.html#a8a7009d98eadb866597cb3f57254b8a3">defaultValue</a> READ <a class="code hl_property" href="class_dynamic_script.html#a8a7009d98eadb866597cb3f57254b8a3">defaultValue</a> WRITE setDefaultValue)<span class="comment"></span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span><span class="comment">    //! For temporary instances, where \ref persistence property is `DSE.PersistTemporary`, this property determines the delay time before the instance is automatically deleted. The value is in milliseconds.</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span><span class="comment">    //! The default delay time is 10 seconds (10,000 ms). If the instance created a Touch Portal State, the State is also removed after this delay time.  \sa persistence</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span><span class="comment"></span>    Q_PROPERTY(<span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#a500d0c102dbf346352cdc0811a150d70">autoDeleteDelay</a> READ <a class="code hl_property" href="class_dynamic_script.html#a500d0c102dbf346352cdc0811a150d70">autoDeleteDelay</a> WRITE setAutoDeleteDelay)<span class="comment"></span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span><span class="comment">    /*!</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span><span class="comment">      Persistent arbitrary data storage object which is attached to this script instance. This is a generic Object type on which properties can be created or deleted as necessary.</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span><span class="comment">      The property value(s) can be any __serializable__ (to/from JSON) data type, incuding a objects or arrays.</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span><span class="comment">      This data is stored with the script instance itself, not in the Engine the script is running in, so for example resetting the Engine instance will not affect this stored data, unlike</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span><span class="comment">      with local variables. This data is also saved and restored at startup with the rest of the instance properties if its \ref persistence property is `DSE.PersistSave`.</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span><span class="comment">      \par Note</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span><span class="comment">      To persist between Engine resets or Dynamic Script Engine runs (in saved settings), this data is saved and restored by converting it to/from JSON.</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span><span class="comment">      This means you _cannot_ restore a function-like Object (or class instance). Only plain data types, numbers and strings basically, will survive the JSON round-trip conversion. \n\n</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span><span class="comment">      For example, this will not work properly:</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span><span class="comment">      ```js</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span><span class="comment">      let color = new Color(&#39;blue&#39;);</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span><span class="comment">      DSE.currentInstance().dataStore.color = color;</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span><span class="comment">      // typeof dataStore.color == Color,  BUT only until the data storage needs to be saved/restored...</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span><span class="comment">      // ... after JSON round-trip</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span><span class="comment">      color = DSE.currentInstance().dataStore.color;</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span><span class="comment">      // typeof color == Object;  color == { _a: 1, _b: 0, _format: &#39;name&#39;, _g: 128, .... }</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span><span class="comment">      ```</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span><span class="comment">      Instead, save some way to restore a new instance of the object type to the same state as the saved one:</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span><span class="comment">      ```js</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span><span class="comment">      DSE.currentInstance().dataStore.color = color.rgba()</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span><span class="comment">      // dataStore.color == { r: 0, g: 128, b: 0, a: 1 }</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span><span class="comment">      // ... after JSON round-trip, the Color type can accept the serialized &#39;rgba&#39; object as input.</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span><span class="comment">      color = new Color(DSE.currentInstance().dataStore.color);</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span><span class="comment">      // color.isValid() == true; color.rgba() == { r: 0, g: 128, b: 0, a: 1 }</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span><span class="comment">      ```</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span><span class="comment">      \warn Only use this object for data which actually needs to be saved and restored to/from persistent storage. For temporary/run-time variables it is far more</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span><span class="comment">      efficient to just create and use them &quot;on the stack&quot; in your script (like you normally would) vs. accessing the `dataStore` object repeatedly.</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span><span class="comment"></span> </div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span><span class="comment">      This property is read-only (meaning the actual storage object cannot be changed; properties of the object itself _can_ be fully manipulated).</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span><span class="comment">    */</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>    Q_PROPERTY(QJSValue <a class="code hl_property" href="class_dynamic_script.html#a1491c2faf59c2e7f407f2e828e8ce281">dataStore</a> READ dataStorage CONSTANT)<span class="comment"></span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span><span class="comment">    //! \}</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span><span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span><span class="comment">    //! \name Touch Portal State properties.</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span><span class="comment">    //! \{</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span><span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span><span class="comment">    //! This property value is `true` when when this script instance was created with &quot;Create State&quot; set to &quot;Yes&quot; by the corresponding action, and `false` otherwise.</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span><span class="comment">    //! Changing this property from `false` to `true` will create a new Touch Portal State, and toggling from `true` to `false` will remove the State from Touch Portal.</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span><span class="comment">    //! State creation happens &quot;laziliy,&quot; meaning one will be created before a State update is to be sent (if ever). State removal, on the other hand, is immediate.  \sa stateCreated</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span><span class="comment"></span>    Q_PROPERTY(<span class="keywordtype">bool</span> <a class="code hl_property" href="class_dynamic_script.html#aea2a09278e8f17ea66e2b7056f9d3b83">createState</a> READ <a class="code hl_property" href="class_dynamic_script.html#aea2a09278e8f17ea66e2b7056f9d3b83">createState</a> WRITE setCreateState)<span class="comment"></span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span><span class="comment">    //! The State ID of this instance as used with Touch Portal to uniquely identify this State, if any.</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="comment">    //! This value will be empty when \ref createState property is `false`. If not empty, this is typically in the form of `DSE.VALUE_STATE_PREFIX + name`.</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span><span class="comment">    //! \n This property is read-only.</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span><span class="comment"></span>    Q_PROPERTY(QString <a class="code hl_property" href="class_dynamic_script.html#a9d26a6c2cb5c4b6693d392c52b64a607">stateId</a> READ <a class="code hl_property" href="class_dynamic_script.html#a9d26a6c2cb5c4b6693d392c52b64a607">stateId</a> CONSTANT)<span class="comment"></span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span><span class="comment">    //! The &quot;friendly name&quot; of the created State (if any), as it will appear in Touch Portal selector lists. By default this is the same as the \ref name property.</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span><span class="comment">    //! \n If this property is set by a script or expression in the initial evaluation (when the Action creating it is first used), then the State will be created with the new name.</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span><span class="comment">    //! \n Changing this property _after_ the State has already been created will have no effect. Either set it before changing the \ref createState property,</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span><span class="comment">    //! or toggle \ref createState to `false` and then `true` again to re-create the State under the new parent category. \sa createState, stateCreated</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span><span class="comment"></span>    Q_PROPERTY(QString <a class="code hl_property" href="class_dynamic_script.html#a44126e4a04f3f07d78268525813df552">stateName</a> READ <a class="code hl_property" href="class_dynamic_script.html#a44126e4a04f3f07d78268525813df552">stateName</a> WRITE <a class="code hl_property" href="class_dynamic_script.html#a44126e4a04f3f07d78268525813df552">stateName</a>)<span class="comment"></span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span><span class="comment">    //! This property holds the name of the Touch Portal parent cateogry into which the created State (if any) will be placed.</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><span class="comment">    //! By default the property is not explicitly set, and reading it will return the global default value (`DSE.VALUE_STATE_PARENT_CATEOGRY`).</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span><span class="comment">    //! \n If this property is set by a script or expression in the initial evaluation (when the Action creating it is first used), then the State will be created with the new name.</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span><span class="comment">    //! \n Changing this property _after_ the State has already been created will have no effect. Either set it before changing the \ref createState property,</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span><span class="comment">    //! or toggle \ref createState to `false` and then to `true` again to re-create the State under the new parent category.   \sa createState, stateCreated</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><span class="comment"></span>    Q_PROPERTY(QString <a class="code hl_property" href="class_dynamic_script.html#a08f1d3778231a67c6f67a416bc6bf572">stateParentCategory</a> READ stateCategory WRITE stateCategory)<span class="comment"></span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span><span class="comment">    //! This read-only property value is `true` if a Touch Portal State has been created for this script instance, `false` otherwise. This should always be `false` if \ref createState is `false`.</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span><span class="comment">    //! \n This property is read-only.  \sa createState</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span><span class="comment"></span>    Q_PROPERTY(<span class="keywordtype">bool</span> <a class="code hl_property" href="class_dynamic_script.html#a88d008ad22a5394160786a0f0524d039">stateCreated</a> READ <a class="code hl_property" href="class_dynamic_script.html#a88d008ad22a5394160786a0f0524d039">stateCreated</a> CONSTANT)<span class="comment"></span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span><span class="comment">    //! \}</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span><span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span><span class="comment">    //! \name Action behaviour properties -- how the instance reacts to various input types like button press/release/hold.</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span><span class="comment">    //! \note This whole section is actually somewhat of a workaround for how Touch Portal allows &quot;On Hold&quot; button behaviors to be specified.</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span><span class="comment">    //! All this configuration should really be on the control/button side, not in the action(s) the control is triggering.</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span><span class="comment">    //! Eg. separate action for press vs. release, whether to repeat while held or not, repeat delay/rate, etc.</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span><span class="comment">    //! \{</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span><span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span><span class="comment">    //! The `activation` property determines how the instance will behave when a control (eg. button) using this instance is activated (eg. pressed, held, or released). \n</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span><span class="comment">    //! This property is primarily relevant when an action is used in a Touch Portal &quot;On Hold&quot; button setup, and is usually set by the &quot;On Hold&quot; action options. \n</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span><span class="comment">    //! The value can be any OR combination of `DSE.ActivationBehavior` enumeration flags. \n</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span><span class="comment">    //! For example:</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span><span class="comment">    //! - `DSE.OnPress` - Evaluates expression on initial button press only.</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span><span class="comment">    //! - `DSE.OnPress | DSE.RepeatOnHold` - Evaluates expression on initial button press and repeatedly while it is held.</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span><span class="comment">    //! - `DSE.OnPress | DSE.OnRelease` - Evaluates expression on initial button press and again when it is released.</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span><span class="comment">    //! - `DSE.RepeatOnHold` - Ignores the initial button press and then starts repeating the evaluation after \ref effectiveRepeatDelay ms, until it is released.</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span><span class="comment">    //! - `DSE.OnRelease` - Evaluates expression only when button is released. This is the default behavior when using an action in Touch Portal&#39;s &quot;On Pressed&quot; button setup (which actually triggers actions upon button release).</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span><span class="comment"></span>    Q_PROPERTY(DseNS::ActivationBehaviors <a class="code hl_property" href="class_dynamic_script.html#ae96f1bba519224118b4a2c7c3bd34e05">activation</a> READ <a class="code hl_property" href="class_dynamic_script.html#ae96f1bba519224118b4a2c7c3bd34e05">activation</a> WRITE setActivation)<span class="comment"></span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span><span class="comment">    //! The default action repeat rate for this particular instance, in milliseconds. If `-1` (default) then the global default rate is used.  \sa, activeRepeatRate, DSE.defaultActionRepeatRate, repeatRateChanged()</span></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span><span class="comment"></span>    Q_PROPERTY(<span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#a4689fa97164715dff945af6b036b6b99">repeatRate</a> READ <a class="code hl_property" href="class_dynamic_script.html#a4689fa97164715dff945af6b036b6b99">repeatRate</a> WRITE setRepeatRate NOTIFY <a class="code hl_function" href="class_dynamic_script.html#a46d6d720878aa3753135bd0724c822e8">repeatRateChanged</a>)<span class="comment"></span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span><span class="comment">    //! The default action repeat delay for this particular instance, in milliseconds. If `-1` (default) then the global default rate is used.  \sa activeRepeatDelay, DSE.defaultActionRepeatDelay, repeatDelayChanged()</span></div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span><span class="comment"></span>    Q_PROPERTY(<span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#a1fdeb08c2e445baa7edb72397bf56f5b">repeatDelay</a> READ <a class="code hl_property" href="class_dynamic_script.html#a1fdeb08c2e445baa7edb72397bf56f5b">repeatDelay</a> WRITE setRepeatDelay NOTIFY <a class="code hl_function" href="class_dynamic_script.html#a2c7362d3b25c82dde107417d8e1c975e">repeatDelayChanged</a>)<span class="comment"></span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span><span class="comment">    //! The action repeat rate for the _currently repeating_ script action, in milliseconds. Changes to this value are only relevant while an action is actively repeating (\ref isRepeating == `true`).</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span><span class="comment">    //!  If `-1` (default) then \ref repeatRate or the global default rate is used.  \sa activeRepeatRateChanged()</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span><span class="comment"></span>    Q_PROPERTY(<span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#ab17f8cd54ce24d13b26bb6567ed863bf">activeRepeatRate</a> READ <a class="code hl_property" href="class_dynamic_script.html#ab17f8cd54ce24d13b26bb6567ed863bf">activeRepeatRate</a> WRITE setActiveRepeatRate NOTIFY <a class="code hl_function" href="class_dynamic_script.html#a9ae32d8b2148d59d1d7b1bc30ea770f4">activeRepeatRateChanged</a>)<span class="comment"></span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span><span class="comment">    //! The action repeat delay time for the _currently repeating_ script action, in milliseconds. Changes to this value are only relevant while an action is actively repeating (\ref isRepeating == `true`).</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span><span class="comment">    //!  If `-1` (default) then \ref repeatDelay or the global default delay is used.  \sa activeRepeatDelayChanged()</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span><span class="comment"></span>    Q_PROPERTY(<span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#ae3e102b02d542d92437bd8a91a387aa8">activeRepeatDelay</a> READ <a class="code hl_property" href="class_dynamic_script.html#ae3e102b02d542d92437bd8a91a387aa8">activeRepeatDelay</a> WRITE setActiveRepeatDelay NOTIFY <a class="code hl_function" href="class_dynamic_script.html#a185f19bb3dc548cf633ac41c14903d56">activeRepeatDelayChanged</a>)<span class="comment"></span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span><span class="comment">    //! The currently effective action repeat rate which is either the global default rate, or this instance&#39;s \ref repeatRate if set, or \ref activeRepeatRate if it was set and \ref isRepeating is `true`.</span></div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span><span class="comment">    //! \n This property is read-only.</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span><span class="comment"></span>    Q_PROPERTY(<span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#ad001aa6c200db8cdd5299ece92f09fb2">effectiveRepeatRate</a> READ <a class="code hl_property" href="class_dynamic_script.html#ad001aa6c200db8cdd5299ece92f09fb2">effectiveRepeatRate</a> CONSTANT)<span class="comment"></span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span><span class="comment">    //! The currently effective action repeat delay which is either the global default delay, or this instance&#39;s \ref repeatDelay if set, or  \ref activeRepeatDelay if it was set and \ref isRepeating is `true`.</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span><span class="comment">    //! \n This property is read-only.</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span><span class="comment"></span>    Q_PROPERTY(<span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#aeb032c293343caa56a8d98d2e9c2efcd">effectiveRepeatDelay</a> READ <a class="code hl_property" href="class_dynamic_script.html#aeb032c293343caa56a8d98d2e9c2efcd">effectiveRepeatDelay</a> CONSTANT)<span class="comment"></span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span><span class="comment">    //! Get or set the maximum number of times this action will repeat when held. A value of `-1` (default) means to repeat an unlimited number of times. Setting the value to `0` effectively disables repeating.</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span><span class="comment"></span>    Q_PROPERTY(<span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#a5c6c46b1bf1ca4265ee772d713353f8b">maxRepeatCount</a> READ <a class="code hl_property" href="class_dynamic_script.html#a5c6c46b1bf1ca4265ee772d713353f8b">maxRepeatCount</a> WRITE setMaxRepeatCount)<span class="comment"></span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span><span class="comment">    //! The number of times the current, or last, repeating action of this instance has repeated. The property is reset to zero when the \ref isRepeating property changes</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span><span class="comment">    //! from `false` to `true` -- that is, every time the repetition is about to start, but before the initial \ref effectiveRepeatDelay time has passed. \sa repeatCountChanged(), isRepeating, isPressed</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span><span class="comment">    //! \n This property is read-only.</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span><span class="comment"></span>    Q_PROPERTY(<span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#abd385bb0169297e60c07587a3df79ae2">repeatCount</a> READ <a class="code hl_property" href="class_dynamic_script.html#abd385bb0169297e60c07587a3df79ae2">repeatCount</a> NOTIFY <a class="code hl_function" href="class_dynamic_script.html#ae2755bc9aab61465e9fe880ed9d791db">repeatCountChanged</a>)<span class="comment"></span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span><span class="comment">    //! `true` if this script evaluation is currently repeating, `false` otherwise.</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span><span class="comment">    //! The value changes to `true` every time the repetition is about to start, but before the initial \ref effectiveRepeatDelay time has passed.</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span><span class="comment">    //! For example it is possible to cancel a repitition before it even starts by setting \ref isPressed to `false` whenever whenever this property changes. \sa repeatingStateChanged()</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span><span class="comment">    //! \n This property is read-only.</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span><span class="comment"></span>    Q_PROPERTY(<span class="keywordtype">bool</span> <a class="code hl_property" href="class_dynamic_script.html#af948da45b36ff3106569689878b07f76">isRepeating</a> READ <a class="code hl_property" href="class_dynamic_script.html#af948da45b36ff3106569689878b07f76">isRepeating</a> NOTIFY <a class="code hl_function" href="class_dynamic_script.html#a8cec208838d7a8d283ee16ed0bb9ea3b">repeatingStateChanged</a>)<span class="comment"></span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span><span class="comment">    //! This property value is `true` if a button using an Action which invokes this script is currently being held down, `false` otherwise.</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span><span class="comment">    //! The value can be changed by setting the property or calling the `setPressedState()` method, which has further documentation on what this means.</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span><span class="comment">    //! \sa pressedStateChanged()</span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span><span class="comment"></span>    Q_PROPERTY(<span class="keywordtype">bool</span> <a class="code hl_property" href="class_dynamic_script.html#ab1351de5234bac2d378240bdfac6e90c">isPressed</a> READ <a class="code hl_property" href="class_dynamic_script.html#ab1351de5234bac2d378240bdfac6e90c">isPressed</a> WRITE <a class="code hl_function" href="class_dynamic_script.html#a99770fb3fbb3d852b744110552b4403f">setPressedState</a> NOTIFY <a class="code hl_function" href="class_dynamic_script.html#a7103fdb182a9bbdd58fe216fec573450">pressedStateChanged</a>)<span class="comment"></span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span><span class="comment">    //! \}</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span><span class="comment"></span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <span class="keyword">enum</span> State : quint16 {</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>      NoErrorState       = 0,</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>      UninitializedState = 0x0001,</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>      PropertyErrorState = 0x0002,</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>      FileLoadErrorState = 0x0004,</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>      ScriptErrorState   = 0x0010,</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>      EvaluatingNowState = 0x0100,</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>      PressedState       = 0x0200,  <span class="comment">// currently being held</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>      RepeatingState     = 0x0400,  <span class="comment">// currently repeating (or waiting for timer)</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>      HoldReleasedState  = 0x0800,  <span class="comment">// released after being pressed when m_activation != OnReleaseOnly</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span> </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>      TpStateCreatedFlag = 0x1000,</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span> </div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>      ConfigErrorState   = PropertyErrorState | FileLoadErrorState,</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>      CriticalErrorState = UninitializedState | ConfigErrorState,</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>    };</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    <span class="comment">//Q_ENUM(State)</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    Q_DECLARE_FLAGS(States, State)</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span> </div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    States m_state = State::UninitializedState;</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    DseNS::ScriptInputType m_inputType = DseNS::ScriptInputType::UnknownInputType;</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    DseNS::ActivationBehaviors m_activation = DseNS::ActivationBehavior::OnRelease; <span class="comment">// | DseNS::ActivationBehavior::RepeatOnHold;</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    DseNS::PersistenceType m_persist = DseNS::PersistenceType::PersistSession;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>    DseNS::EngineInstanceType m_scope = DseNS::EngineInstanceType::UnknownInstanceType;</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>    DseNS::SavedDefaultType m_defaultType = DseNS::SavedDefaultType::FixedValueDefault;</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    std::atomic_bool m_createState = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>    std::atomic_int m_autoDeleteDelay = 10 * 1000;</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    std::atomic_int m_repeatRate = -1;</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    std::atomic_int m_repeatDelay = -1;</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>    std::atomic_int m_activeRepeatRate = -1;</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>    std::atomic_int m_activeRepeatDelay = -1;</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>    std::atomic_int m_repeatCount = 0;</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    std::atomic_int m_maxRepeatCount = -1;</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    QString m_expr;</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    QString m_file;</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    QString m_originalFile;</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    QString m_moduleAlias;</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    QByteArray m_defaultValue;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    QByteArray m_engineName;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    QJSValue m_storedData;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>    QJsonObject m_storedDataVar;</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>    QDateTime m_scriptLastMod;</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    QReadWriteLock m_mutex;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    ScriptEngine * m_engine = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    QTimer *m_repeatTim = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>  <span class="keyword">public</span>:</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    <span class="keyword">const</span> QByteArray <a class="code hl_property" href="class_dynamic_script.html#a9a2326f35466e54c36c070829245c557">name</a>;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    <span class="keyword">const</span> QByteArray tpStateId;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    QByteArray tpStateCategory;</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    QByteArray tpStateName;</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    QString lastError;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span> </div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    <span class="keyword">explicit</span> <a class="code hl_class" href="class_dynamic_script.html">DynamicScript</a>(<span class="keyword">const</span> QByteArray &amp;<a class="code hl_property" href="class_dynamic_script.html#a9a2326f35466e54c36c070829245c557">name</a>, QObject *p = <span class="keyword">nullptr</span>);</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    <a class="code hl_class" href="class_dynamic_script.html">~DynamicScript</a>();</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span> </div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_property" href="class_dynamic_script.html#aea2a09278e8f17ea66e2b7056f9d3b83">createState</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_createState; }</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <span class="keywordtype">void</span> setCreateState(<span class="keywordtype">bool</span> create);</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span> </div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    <span class="comment">// returns empty if createState == false</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    QByteArray <a class="code hl_property" href="class_dynamic_script.html#a9d26a6c2cb5c4b6693d392c52b64a607">stateId</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_property" href="class_dynamic_script.html#aea2a09278e8f17ea66e2b7056f9d3b83">createState</a>() ? tpStateId : QByteArray(); }</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    <span class="keywordtype">bool</span> <a class="code hl_property" href="class_dynamic_script.html#a88d008ad22a5394160786a0f0524d039">stateCreated</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (m_state &amp; TpStateCreatedFlag); }</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span> </div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    QByteArray stateCategory()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> tpStateCategory.isEmpty() ? QByteArrayLiteral(PLUGIN_DYNAMIC_STATES_PARENT) : tpStateCategory; }</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    <span class="keywordtype">void</span> stateCategory(<span class="keyword">const</span> QString &amp;value) { tpStateCategory = value.toUtf8(); }</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    QByteArray <a class="code hl_property" href="class_dynamic_script.html#a44126e4a04f3f07d78268525813df552">stateName</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> tpStateName.isEmpty() ? <a class="code hl_property" href="class_dynamic_script.html#a9a2326f35466e54c36c070829245c557">name</a> : tpStateName; }</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    <span class="keywordtype">void</span> <a class="code hl_property" href="class_dynamic_script.html#a44126e4a04f3f07d78268525813df552">stateName</a>(<span class="keyword">const</span> QString &amp;value) { tpStateName = value.toUtf8(); }</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span> </div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>    DseNS::ScriptInputType <a class="code hl_property" href="class_dynamic_script.html#a6d3b70ae6b817223ea2f380e06f6c599">inputType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_inputType; }</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    DseNS::EngineInstanceType instanceType()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_scope; }</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span> </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    QString <a class="code hl_property" href="class_dynamic_script.html#a8c98cfbef302bb28a0961430d250bdd6">scriptFile</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_originalFile; }</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    QString <a class="code hl_property" href="class_dynamic_script.html#adf95b86f61ec89522b08f3500367ce1f">scriptFileResolved</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_file; }</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    QString <a class="code hl_property" href="class_dynamic_script.html#a7db9a71a3954fa572de18e1e4e3e9838">expression</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_expr; }</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>    QString <a class="code hl_property" href="class_dynamic_script.html#a86bf4a6461408e8b33f5005d8708978e">moduleAlias</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_moduleAlias; }</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span> </div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>    DseNS::PersistenceType <a class="code hl_property" href="class_dynamic_script.html#a0e153e90afa5b4a75f8edd789db9e7d5">persistence</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_persist; }</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>    <span class="keywordtype">void</span> setPersistence(DseNS::PersistenceType newPersist);</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span> isTemporary()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_persist == DseNS::PersistenceType::PersistTemporary; }</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span> </div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    QJSValue &amp;dataStorage();</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span> </div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>    <span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#a500d0c102dbf346352cdc0811a150d70">autoDeleteDelay</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_autoDeleteDelay; }</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>    <span class="keywordtype">void</span> setAutoDeleteDelay(<span class="keywordtype">int</span> ms) { m_autoDeleteDelay = ms; }</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span> </div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    DseNS::SavedDefaultType <a class="code hl_property" href="class_dynamic_script.html#a6a831748d097962f93bfcbd8a9fb196e">defaultType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_defaultType; }</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    <span class="keywordtype">void</span> setDefaultType(DseNS::SavedDefaultType type);</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span> </div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>    QByteArray <a class="code hl_property" href="class_dynamic_script.html#a8a7009d98eadb866597cb3f57254b8a3">defaultValue</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_defaultValue; }</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>    <span class="keywordtype">void</span> setDefaultValue(<span class="keyword">const</span> QByteArray &amp;value) { m_defaultValue = value; }</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span> </div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <span class="keywordtype">void</span> setDefaultTypeValue(DseNS::SavedDefaultType defType, <span class="keyword">const</span> QByteArray &amp;def)</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    {</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>      setDefaultType(defType);</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>      setDefaultValue(def);</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    }</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span> </div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    DseNS::ActivationBehaviors <a class="code hl_property" href="class_dynamic_script.html#ae96f1bba519224118b4a2c7c3bd34e05">activation</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_activation; }</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <span class="keywordtype">void</span> setActivation(DseNS::ActivationBehaviors behavior);</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span> </div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_property" href="class_dynamic_script.html#ab1351de5234bac2d378240bdfac6e90c">isPressed</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_state.testFlags(State::PressedState); }</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_property" href="class_dynamic_script.html#af948da45b36ff3106569689878b07f76">isRepeating</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_state.testFlags(State::RepeatingState); }</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    <span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#abd385bb0169297e60c07587a3df79ae2">repeatCount</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_repeatCount; }</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    <span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#a5c6c46b1bf1ca4265ee772d713353f8b">maxRepeatCount</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_maxRepeatCount; }</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>    <span class="keywordtype">void</span> setMaxRepeatCount(<span class="keywordtype">int</span> count) { m_maxRepeatCount = count; }</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span> </div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>    <span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#a4689fa97164715dff945af6b036b6b99">repeatRate</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_repeatRate; }</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    <span class="keywordtype">void</span> setRepeatRate(<span class="keywordtype">int</span> ms) {</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>      <span class="keywordflow">if</span> (ms &lt; 50)</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>        ms = 50;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>      <span class="keywordflow">if</span> (m_repeatRate != ms) {</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        m_repeatRate = ms;</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        Q_EMIT <a class="code hl_function" href="class_dynamic_script.html#a46d6d720878aa3753135bd0724c822e8">repeatRateChanged</a>(ms);</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>      }</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    }</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span> </div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    <span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#a1fdeb08c2e445baa7edb72397bf56f5b">repeatDelay</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_repeatDelay; }</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    <span class="keywordtype">void</span> setRepeatDelay(<span class="keywordtype">int</span> ms) {</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>      <span class="keywordflow">if</span> (ms &lt; 50)</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        ms = 50;</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>      <span class="keywordflow">if</span> (m_repeatDelay != ms){</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>        m_repeatDelay = ms;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        Q_EMIT <a class="code hl_function" href="class_dynamic_script.html#a2c7362d3b25c82dde107417d8e1c975e">repeatDelayChanged</a>(ms);</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>      }</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    }</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span> </div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    <span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#ab17f8cd54ce24d13b26bb6567ed863bf">activeRepeatRate</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_activeRepeatRate; }</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    <span class="keywordtype">void</span> setActiveRepeatRate(<span class="keywordtype">int</span> ms)</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>    {</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>      <span class="keywordflow">if</span> (ms &lt; 50)</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>        ms = 50;</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>      <span class="keywordflow">if</span> (<a class="code hl_property" href="class_dynamic_script.html#ab1351de5234bac2d378240bdfac6e90c">isPressed</a>() &amp;&amp; m_state.testFlag(State::EvaluatingNowState) &amp;&amp; m_activeRepeatRate != ms) {</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>        m_activeRepeatRate = ms;</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>        Q_EMIT <a class="code hl_function" href="class_dynamic_script.html#a9ae32d8b2148d59d1d7b1bc30ea770f4">activeRepeatRateChanged</a>(ms);</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>      }</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    }</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    <span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#ae3e102b02d542d92437bd8a91a387aa8">activeRepeatDelay</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_activeRepeatDelay; }</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    <span class="keywordtype">void</span> setActiveRepeatDelay(<span class="keywordtype">int</span> ms)</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    {</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>      <span class="keywordflow">if</span> (ms &lt; 50)</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>        ms = 50;</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>      <span class="keywordflow">if</span> (<a class="code hl_property" href="class_dynamic_script.html#ab1351de5234bac2d378240bdfac6e90c">isPressed</a>() &amp;&amp; m_state.testFlag(State::EvaluatingNowState) &amp;&amp; m_activeRepeatDelay != ms) {</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>        m_activeRepeatDelay = ms;</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>        Q_EMIT <a class="code hl_function" href="class_dynamic_script.html#a185f19bb3dc548cf633ac41c14903d56">activeRepeatDelayChanged</a>(ms);</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>      }</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>    }</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span> </div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    <span class="keywordtype">int</span> repeatProperty(quint8 property) { <span class="keywordflow">return</span> (property &amp; DseNS::RepeatRateProperty) ? m_repeatRate : m_repeatDelay; }</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    <span class="keywordtype">void</span> setRepeatProperty(quint8 property, <span class="keywordtype">int</span> ms)</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    {</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>      <span class="keywordflow">if</span> (property &amp; DseNS::RepeatRateProperty)</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>        setRepeatRate(ms);</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>      <span class="keywordflow">if</span> (property &amp; DseNS::RepeatDelayProperty)</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>        setRepeatDelay(ms);</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    }</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span> </div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#ad001aa6c200db8cdd5299ece92f09fb2">effectiveRepeatRate</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_activeRepeatRate &gt; 0 ? m_activeRepeatRate.load() : (m_repeatRate &gt; 0 ? m_repeatRate.load() : DSE::defaultRepeatRate.load()); }</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    <span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#aeb032c293343caa56a8d98d2e9c2efcd">effectiveRepeatDelay</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_activeRepeatDelay &gt; 0 ? m_activeRepeatDelay.load() : (m_repeatDelay &gt; 0 ? m_repeatDelay.load() : DSE::defaultRepeatDelay.load()); }</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span> </div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <span class="keywordtype">bool</span> setExpressionProperties(<span class="keyword">const</span> QString &amp;expr);</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    <span class="keywordtype">bool</span> setScriptProperties(<span class="keyword">const</span> QString &amp;file, <span class="keyword">const</span> QString &amp;expr);</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <span class="keywordtype">bool</span> setModuleProperties(<span class="keyword">const</span> QString &amp;file, <span class="keyword">const</span> QString &amp;alias, <span class="keyword">const</span> QString &amp;expr);</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <span class="keywordtype">bool</span> setProperties(DseNS::ScriptInputType type, <span class="keyword">const</span> QString &amp;expr, <span class="keyword">const</span> QString &amp;file = QString(), <span class="keyword">const</span> QString &amp;alias = QString(), <span class="keywordtype">bool</span> ignoreErrors = <span class="keyword">false</span>);</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    <span class="keywordtype">bool</span> setExpression(<span class="keyword">const</span> QString &amp;expr);</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    <span class="keywordtype">bool</span> setEngine(ScriptEngine *se);</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    ScriptEngine *engine()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_engine; }</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    QByteArray <a class="code hl_property" href="class_dynamic_script.html#af223e08c09d71010515fccaa3f9c977a">engineName</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_engineName; }</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span> </div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    QByteArray serialize() <span class="keyword">const</span>;</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    <span class="keywordtype">bool</span> deserialize(<span class="keyword">const</span> QByteArray &amp;data);</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span> </div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>  <span class="keyword">public</span> Q_SLOTS:<span class="comment"></span></div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span><span class="comment">    //! Send a Touch Portal State value update using this instance&#39;s `stateId` as the State ID.</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span><span class="comment">    //! If \ref createState property is `false` then calling this method has no effect. \n</span></div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span><span class="comment">    //! This method will create the Touch Portal State if it has not already been created.</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno"><a class="line" href="class_dynamic_script.html#ae43da0e6f16ee34db59fbe284e942624">  400</a></span><span class="comment"></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="class_dynamic_script.html#ae43da0e6f16ee34db59fbe284e942624">stateUpdate</a>(<span class="keyword">const</span> QByteArray &amp;value) {</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>      <span class="keywordflow">if</span> (<a class="code hl_property" href="class_dynamic_script.html#aea2a09278e8f17ea66e2b7056f9d3b83">createState</a>()) {</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>        <span class="comment">// FIXME: TP v3.1 doesn&#39;t fire state change events based on the default value; v3.2 might.</span></div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>        createTpState(<span class="comment">/*m_defaultType != DseNS::SavedDefaultType::LastExprDefault*/</span>);</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>        Q_EMIT dataReady(tpStateId, value);</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>        <span class="comment">//qCDebug(lcPlugin) &lt;&lt; &quot;DynamicScript instance&quot; &lt;&lt; name &lt;&lt; &quot;sending result:&quot; &lt;&lt; value;</span></div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>      }</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    }</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span><span class="comment"></span> </div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span><span class="comment">    /*!</span></div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span><span class="comment">      Callling this method causes the instance to evaluate its current \ref expression, basically as if it was invoked</span></div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span><span class="comment">      from a Touch Portal Action or Connector. This includes loading any script file or importing a module</span></div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span><span class="comment">      as per the current \ref inputType, \ref scriptFile, and \ref moduleAlias property settings.</span></div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span><span class="comment"></span> </div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span><span class="comment">      __Note__ that we cannot retrieve data/values _from_ Touch Portal directly, it has to send them to us via an</span></div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span><span class="comment">      Action. So if the \ref expression originally gets some data value(s) provided by %TP itself (from a Value or State),</span></div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span><span class="comment">      the _last_ data it sent gets evaluated. There is no way to retrieve a more current value, and in fact the script</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span><span class="comment">      instance itself isn&#39;t even aware that some Value or State was involved in the first place</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span><span class="comment">      (it only gets the data from the Value/State, not the name or ID).</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span><span class="comment">    */</span></div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno"><a class="line" href="class_dynamic_script.html#a640eb3c435abcfe65e13558fc738b915">  420</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_dynamic_script.html#a640eb3c435abcfe65e13558fc738b915">evaluate</a>();</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span><span class="comment"></span> </div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span><span class="comment">    /*!</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span><span class="comment">      This method provides direct control over the current &quot;pressed state&quot; of this script instance, which can be `true` or `false`.</span></div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span><span class="comment">      Normally an instance can be &quot;pressed&quot; and &quot;released&quot; when its corresponding Action is used in a Touch Portal button&#39;s</span></div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span><span class="comment">      &quot;On Hold&quot; setup tab. An action used there sends two events to the plugin, one for the &quot;down&quot; event, when the button</span></div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span><span class="comment">      is first pressed, and another for the &quot;up&quot; event.</span></div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span><span class="comment"></span> </div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span><span class="comment">      Setting the pressed state to `false` while an action&#39;s button is being held and is repeating, for example,</span></div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span><span class="comment">      will cancel any further repeats, just as if the button had been released by the user.</span></div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span><span class="comment">      Setting the pressed state to `true` will not have any immediate effect until the next time the the action&#39;s expression</span></div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span><span class="comment">      is evaluated, either by using its corresponding action in Touch Portal, or by calling the `evaluate()` method.</span></div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span><span class="comment">      Once evaluation is performed, the behavior will depend on the current value of the \ref activation property (eg. the action</span></div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span><span class="comment">      could start repeating, wait for a delay, or be &quot;armed&quot; for a release/up event).</span></div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span><span class="comment">      \sa isPressed, pressedStateChanged()</span></div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span><span class="comment">    */</span></div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno"><a class="line" href="class_dynamic_script.html#a99770fb3fbb3d852b744110552b4403f">  436</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_dynamic_script.html#a99770fb3fbb3d852b744110552b4403f">setPressedState</a>(<span class="keywordtype">bool</span> <a class="code hl_property" href="class_dynamic_script.html#ab1351de5234bac2d378240bdfac6e90c">isPressed</a>);</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span> </div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>  Q_SIGNALS:<span class="comment"></span></div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span><span class="comment">    /*!</span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span><span class="comment">      \name Events</span></div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span><span class="comment">      All these events correspond to changes in property values, provided as a way for a script to take some</span></div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span><span class="comment">      immediate action based on a new value for that property, vs, say, having to check the values periodically with a timer.</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span><span class="comment"></span> </div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span><span class="comment">      Callbacks can be attached to, or detached from, events by using the `connect()` and `disconnect()` syntax. For example:</span></div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span><span class="comment">      ```js</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span><span class="comment">      function onPressStateChange(isPressed) {</span></div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span><span class="comment">        console.log(&quot;The button has been &quot; + (isPressed ? &quot;pressed&quot; : &quot;released&quot;));</span></div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span><span class="comment">      }</span></div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span><span class="comment"></span> </div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span><span class="comment">      DSE.pressedStateChanged.connect(onPressStateChange);</span></div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span><span class="comment">      // ... later, to disconnect:</span></div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span><span class="comment">      DSE.pressedStateChanged.disconnect(onPressStateChange);</span></div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span><span class="comment">      ```</span></div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span><span class="comment"></span> </div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span><span class="comment">      \{</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span><span class="comment">    */</span></div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span><span class="comment"></span> </div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span><span class="comment">    /*!</span></div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span><span class="comment">      This event is only emitted when an action is used in an &quot;On Hold&quot; button setup. When the button using this action</span></div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span><span class="comment">      is first pressed down, this event is emitted with the `isPressed` parameter set to `true`. When the button is later</span></div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span><span class="comment">      released, the event is emitted again with the parameter set to `false`.</span></div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span><span class="comment"></span> </div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span><span class="comment">      The event is emitted regardless of the \ref activation property value, as long as the button is being used in the &quot;On Hold&quot; tab</span></div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span><span class="comment">      (when an action is used in the &quot;On Pressed&quot; tab setup, it is actually only activated when the button is _released_, so this event</span></div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span><span class="comment">      would have no relevance). \n</span></div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span><span class="comment">      This allows custom behavior for a button from within a script handler -- for example different actions could be performed</span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span><span class="comment">      on button press vs. release.</span></div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span><span class="comment">      \sa isPressed, setPressedState()</span></div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span><span class="comment">    */</span></div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno"><a class="line" href="class_dynamic_script.html#a7103fdb182a9bbdd58fe216fec573450">  470</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_dynamic_script.html#a7103fdb182a9bbdd58fe216fec573450">pressedStateChanged</a>(<span class="keywordtype">bool</span> <a class="code hl_property" href="class_dynamic_script.html#ab1351de5234bac2d378240bdfac6e90c">isPressed</a>);<span class="comment"></span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span><span class="comment">    //! This event is emitted when an evaluation starts or stops repeating (as per the \ref activation property).</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span><span class="comment">    //! The `isRepeating` parameter reflects the current (new) value of the \ref isRepeating property.</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno"><a class="line" href="class_dynamic_script.html#a8cec208838d7a8d283ee16ed0bb9ea3b">  473</a></span><span class="comment"></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_dynamic_script.html#a8cec208838d7a8d283ee16ed0bb9ea3b">repeatingStateChanged</a>(<span class="keywordtype">bool</span> <a class="code hl_property" href="class_dynamic_script.html#af948da45b36ff3106569689878b07f76">isRepeating</a>);<span class="comment"></span></div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span><span class="comment">    //! This event is emitted when the value of the \ref repeatCount property changes, meaning whenever the evaluation is repeated,</span></div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span><span class="comment">    //! or when a new &quot;repetition&quot; starts. See \ref repeatCount for more details.</span></div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span><span class="comment">    //! The `repeatCount` parameter value reflects the current (new) \ref repeatCount property value.</span></div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno"><a class="line" href="class_dynamic_script.html#ae2755bc9aab61465e9fe880ed9d791db">  477</a></span><span class="comment"></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_dynamic_script.html#ae2755bc9aab61465e9fe880ed9d791db">repeatCountChanged</a>(<span class="keywordtype">int</span> <a class="code hl_property" href="class_dynamic_script.html#abd385bb0169297e60c07587a3df79ae2">repeatCount</a>);<span class="comment"></span></div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span><span class="comment">    //! This event is emitted when the value of the \ref repeatRate property changes.</span></div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span><span class="comment">    //! The `ms` parameter value reflects the current (new) \ref repeatRate property value.</span></div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno"><a class="line" href="class_dynamic_script.html#a46d6d720878aa3753135bd0724c822e8">  480</a></span><span class="comment"></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_dynamic_script.html#a46d6d720878aa3753135bd0724c822e8">repeatRateChanged</a>(<span class="keywordtype">int</span> ms);<span class="comment"></span></div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span><span class="comment">    //! This event is emitted when the value of the \ref repeatDelay property changes.</span></div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span><span class="comment">    //! The `ms` parameter value reflects the current (new) \ref repeatDelay property value.</span></div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno"><a class="line" href="class_dynamic_script.html#a2c7362d3b25c82dde107417d8e1c975e">  483</a></span><span class="comment"></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_dynamic_script.html#a2c7362d3b25c82dde107417d8e1c975e">repeatDelayChanged</a>(<span class="keywordtype">int</span> ms);<span class="comment"></span></div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span><span class="comment">    //! This event is emitted when the value of the \ref activeRepeatRate property changes.</span></div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span><span class="comment">    //! The `ms` parameter value reflects the current (new) \ref activeRepeatRate property value.</span></div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno"><a class="line" href="class_dynamic_script.html#a9ae32d8b2148d59d1d7b1bc30ea770f4">  486</a></span><span class="comment"></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_dynamic_script.html#a9ae32d8b2148d59d1d7b1bc30ea770f4">activeRepeatRateChanged</a>(<span class="keywordtype">int</span> ms);<span class="comment"></span></div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span><span class="comment">    //! This event is emitted when the value of the \ref activeRepeatDelay property changes.</span></div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span><span class="comment">    //! The `ms` parameter value reflects the current (new) \ref activeRepeatDelay property value.</span></div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno"><a class="line" href="class_dynamic_script.html#a185f19bb3dc548cf633ac41c14903d56">  489</a></span><span class="comment"></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="class_dynamic_script.html#a185f19bb3dc548cf633ac41c14903d56">activeRepeatDelayChanged</a>(<span class="keywordtype">int</span> ms);</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span><span class="comment"></span> </div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span><span class="comment">    //! \}</span></div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span><span class="comment"></span> </div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>  <span class="keyword">private</span> Q_SLOTS:</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>    <span class="comment">// This is private to keep it hidden from scripting environment (for now?). `Plugin` is marked as friend to use these methods.</span></div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>    <span class="keywordtype">void</span> evaluateDefault();</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span> </div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>    <span class="comment">// these really _are_ private</span></div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span> </div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>    <span class="keyword">inline</span> <span class="keywordtype">void</span> setRepeating(<span class="keywordtype">bool</span> repeating)</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>    {</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>      <span class="keywordflow">if</span> (m_state.testFlags(State::RepeatingState) == repeating)</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>      m_state.setFlag(State::RepeatingState, repeating);</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>      <span class="keywordflow">if</span> (repeating) {</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>        m_activeRepeatRate = -1;</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        m_repeatCount = 0;</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>        Q_EMIT <a class="code hl_function" href="class_dynamic_script.html#ae2755bc9aab61465e9fe880ed9d791db">repeatCountChanged</a>(0);</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>      }</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>        m_state.setFlag(State::HoldReleasedState, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>      }</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>      Q_EMIT <a class="code hl_function" href="class_dynamic_script.html#a8cec208838d7a8d283ee16ed0bb9ea3b">repeatingStateChanged</a>(repeating);</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>    }</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span> </div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>    <span class="keywordtype">void</span> setPressed(<span class="keywordtype">bool</span> <a class="code hl_property" href="class_dynamic_script.html#ab1351de5234bac2d378240bdfac6e90c">isPressed</a>);</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    <span class="keywordtype">void</span> serializeStoredData();</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>    <span class="keywordtype">void</span> setupRepeatTimer(<span class="keywordtype">bool</span> create = <span class="keyword">true</span>);</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    <span class="keywordtype">void</span> repeatEvaluate();</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>    QByteArray getDefaultValue();</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span> </div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>  <span class="keyword">private</span>:</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>    Q_SIGNAL <span class="keywordtype">void</span> dataReady(<span class="keyword">const</span> QByteArray &amp;<a class="code hl_property" href="class_dynamic_script.html#a44126e4a04f3f07d78268525813df552">stateName</a>, <span class="keyword">const</span> QByteArray &amp;result);</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>    Q_SIGNAL <span class="keywordtype">void</span> stateCreate(<span class="keyword">const</span> QByteArray &amp;, <span class="keyword">const</span> QByteArray &amp;, <span class="keyword">const</span> QByteArray &amp;, <span class="keyword">const</span> QByteArray &amp;) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>    Q_SIGNAL <span class="keywordtype">void</span> stateRemove(<span class="keyword">const</span> QByteArray &amp;) <span class="keyword">const</span>;</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>    Q_SIGNAL <span class="keywordtype">void</span> scriptError(<span class="keyword">const</span> JSError &amp;e);</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>    Q_SIGNAL <span class="keywordtype">void</span> finished();</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span> </div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>    <span class="comment">//void moveToMainThread();</span></div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>    <span class="keywordtype">bool</span> setExpr(<span class="keyword">const</span> QString &amp;expr);</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>    <span class="keywordtype">bool</span> setFile(<span class="keyword">const</span> QString &amp;file);</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>    <span class="keywordtype">bool</span> scheduleRepeatIfNeeded();</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span> </div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>    <span class="keyword">inline</span> <span class="keywordtype">void</span> createTpState(<span class="keywordtype">bool</span> useActualDefault = <span class="keyword">false</span>)</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>    {</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>      <span class="comment">// FIXME: TP v3.1 doesn&#39;t fire state change events based on the default value; v3.2 might.</span></div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>      <span class="keywordflow">if</span> (!m_state.testFlags(TpStateCreatedFlag)) {</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>        m_state.setFlag(TpStateCreatedFlag, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>        <span class="keyword">const</span> QByteArray val = useActualDefault ? getDefaultValue() : QByteArray();</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>        Q_EMIT stateCreate(tpStateId, stateCategory(), <a class="code hl_property" href="class_dynamic_script.html#a44126e4a04f3f07d78268525813df552">stateName</a>(), val);</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>        qCDebug(lcPlugin) &lt;&lt; <span class="stringliteral">&quot;Created instance State&quot;</span> &lt;&lt; tpStateId &lt;&lt; <span class="stringliteral">&quot;in&quot;</span> &lt;&lt; stateCategory();</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>      }</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>    }</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span> </div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>    <span class="keyword">inline</span> <span class="keywordtype">void</span> removeTpState()</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>    {</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>      <span class="keywordflow">if</span> (m_state.testFlags(TpStateCreatedFlag)) {</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>        m_state.setFlag(TpStateCreatedFlag, <span class="keyword">false</span>);</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>        Q_EMIT stateRemove(tpStateId);</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>        qCDebug(lcPlugin) &lt;&lt; <span class="stringliteral">&quot;Removed instance State&quot;</span> &lt;&lt; tpStateId;</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>      }</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>    }</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span> </div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>    <span class="keyword">friend</span> <span class="keyword">class </span>Plugin;</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>    Q_DISABLE_COPY(<a class="code hl_class" href="class_dynamic_script.html">DynamicScript</a>)</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>};</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span> </div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno"><a class="line" href="class_dynamic_script.html#ae96f1bba519224118b4a2c7c3bd34e05">  557</a></span>Q_DECLARE_METATYPE(<a class="code hl_class" href="class_dynamic_script.html">DynamicScript</a>*);</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span><span class="comment">//Q_DECLARE_OPERATORS_FOR_FLAGS(DynamicScript::States);</span></div>
<div class="ttc" id="aclass_dynamic_script_html"><div class="ttname"><a href="class_dynamic_script.html">DynamicScript</a></div><div class="ttdoc">DynamicScript represents an instance of an expression, script file, or module being evaluated using a...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:60</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a08f1d3778231a67c6f67a416bc6bf572"><div class="ttname"><a href="class_dynamic_script.html#a08f1d3778231a67c6f67a416bc6bf572">DynamicScript::stateParentCategory</a></div><div class="ttdeci">String stateParentCategory</div><div class="ttdoc">This property holds the name of the Touch Portal parent cateogry into which the created State (if any...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:166</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a0e153e90afa5b4a75f8edd789db9e7d5"><div class="ttname"><a href="class_dynamic_script.html#a0e153e90afa5b4a75f8edd789db9e7d5">DynamicScript::persistence</a></div><div class="ttdeci">DSE::PersistenceType persistence</div><div class="ttdoc">Persistence essentially determines the lifespan of this script instance. &quot;Session&quot; persistence means ...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:101</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a1491c2faf59c2e7f407f2e828e8ce281"><div class="ttname"><a href="class_dynamic_script.html#a1491c2faf59c2e7f407f2e828e8ce281">DynamicScript::dataStore</a></div><div class="ttdeci">Object dataStore</div><div class="ttdoc">Persistent arbitrary data storage object which is attached to this script instance.</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:142</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a185f19bb3dc548cf633ac41c14903d56"><div class="ttname"><a href="class_dynamic_script.html#a185f19bb3dc548cf633ac41c14903d56">DynamicScript::activeRepeatDelayChanged</a></div><div class="ttdeci">void activeRepeatDelayChanged(int ms)</div><div class="ttdoc">This event is emitted when the value of the activeRepeatDelay property changes. The ms parameter valu...</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a1fdeb08c2e445baa7edb72397bf56f5b"><div class="ttname"><a href="class_dynamic_script.html#a1fdeb08c2e445baa7edb72397bf56f5b">DynamicScript::repeatDelay</a></div><div class="ttdeci">int repeatDelay</div><div class="ttdoc">The default action repeat delay for this particular instance, in milliseconds. If -1 (default) then t...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:191</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a204c28502265567652e5b10142df018e"><div class="ttname"><a href="class_dynamic_script.html#a204c28502265567652e5b10142df018e">DynamicScript::engineType</a></div><div class="ttdeci">DSE::EngineInstanceType engineType</div><div class="ttdoc">This is the Engine Instance type which this script is using for its execution environment....</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:89</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a2c7362d3b25c82dde107417d8e1c975e"><div class="ttname"><a href="class_dynamic_script.html#a2c7362d3b25c82dde107417d8e1c975e">DynamicScript::repeatDelayChanged</a></div><div class="ttdeci">void repeatDelayChanged(int ms)</div><div class="ttdoc">This event is emitted when the value of the repeatDelay property changes. The ms parameter value refl...</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a44126e4a04f3f07d78268525813df552"><div class="ttname"><a href="class_dynamic_script.html#a44126e4a04f3f07d78268525813df552">DynamicScript::stateName</a></div><div class="ttdeci">String stateName</div><div class="ttdoc">The &quot;friendly name&quot; of the created State (if any), as it will appear in Touch Portal selector lists....</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:160</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a4689fa97164715dff945af6b036b6b99"><div class="ttname"><a href="class_dynamic_script.html#a4689fa97164715dff945af6b036b6b99">DynamicScript::repeatRate</a></div><div class="ttdeci">int repeatRate</div><div class="ttdoc">The default action repeat rate for this particular instance, in milliseconds. If -1 (default) then th...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:189</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a46d6d720878aa3753135bd0724c822e8"><div class="ttname"><a href="class_dynamic_script.html#a46d6d720878aa3753135bd0724c822e8">DynamicScript::repeatRateChanged</a></div><div class="ttdeci">void repeatRateChanged(int ms)</div><div class="ttdoc">This event is emitted when the value of the repeatRate property changes. The ms parameter value refle...</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a500d0c102dbf346352cdc0811a150d70"><div class="ttname"><a href="class_dynamic_script.html#a500d0c102dbf346352cdc0811a150d70">DynamicScript::autoDeleteDelay</a></div><div class="ttdeci">int autoDeleteDelay</div><div class="ttdoc">For temporary instances, where persistence property is DSE.PersistTemporary, this property determines...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:111</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a5c6c46b1bf1ca4265ee772d713353f8b"><div class="ttname"><a href="class_dynamic_script.html#a5c6c46b1bf1ca4265ee772d713353f8b">DynamicScript::maxRepeatCount</a></div><div class="ttdeci">int maxRepeatCount</div><div class="ttdoc">Get or set the maximum number of times this action will repeat when held. A value of -1 (default) mea...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:205</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a640eb3c435abcfe65e13558fc738b915"><div class="ttname"><a href="class_dynamic_script.html#a640eb3c435abcfe65e13558fc738b915">DynamicScript::evaluate</a></div><div class="ttdeci">void evaluate()</div><div class="ttdoc">Callling this method causes the instance to evaluate its current expression, basically as if it was i...</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a6a831748d097962f93bfcbd8a9fb196e"><div class="ttname"><a href="class_dynamic_script.html#a6a831748d097962f93bfcbd8a9fb196e">DynamicScript::defaultType</a></div><div class="ttdeci">DSE::SavedDefaultType defaultType</div><div class="ttdoc">When persistence is of DSE.PersistSave type, this property value determines what happens when this in...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:105</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a6d3b70ae6b817223ea2f380e06f6c599"><div class="ttname"><a href="class_dynamic_script.html#a6d3b70ae6b817223ea2f380e06f6c599">DynamicScript::inputType</a></div><div class="ttdeci">DSE::ScriptInputType inputType</div><div class="ttdoc">The type of scripting action. DSE.ScriptInputType enumeration value, one of: DSE.ExpressionInput,...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:72</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a7103fdb182a9bbdd58fe216fec573450"><div class="ttname"><a href="class_dynamic_script.html#a7103fdb182a9bbdd58fe216fec573450">DynamicScript::pressedStateChanged</a></div><div class="ttdeci">void pressedStateChanged(bool isPressed)</div><div class="ttdoc">This event is only emitted when an action is used in an &quot;On Hold&quot; button setup.</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a7db9a71a3954fa572de18e1e4e3e9838"><div class="ttname"><a href="class_dynamic_script.html#a7db9a71a3954fa572de18e1e4e3e9838">DynamicScript::expression</a></div><div class="ttdeci">String expression</div><div class="ttdoc">The full expression string. This is as received from Touch Portal, possibly with any TP macros alread...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:75</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a86bf4a6461408e8b33f5005d8708978e"><div class="ttname"><a href="class_dynamic_script.html#a86bf4a6461408e8b33f5005d8708978e">DynamicScript::moduleAlias</a></div><div class="ttdeci">String moduleAlias</div><div class="ttdoc">The module import alias. Only Module type instances will have an alias.   This property is read-only.</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:86</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a88d008ad22a5394160786a0f0524d039"><div class="ttname"><a href="class_dynamic_script.html#a88d008ad22a5394160786a0f0524d039">DynamicScript::stateCreated</a></div><div class="ttdeci">bool stateCreated</div><div class="ttdoc">This read-only property value is true if a Touch Portal State has been created for this script instan...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:169</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a8a7009d98eadb866597cb3f57254b8a3"><div class="ttname"><a href="class_dynamic_script.html#a8a7009d98eadb866597cb3f57254b8a3">DynamicScript::defaultValue</a></div><div class="ttdeci">String defaultValue</div><div class="ttdoc">The default value specified for saved instance, if any. Depending on the value of defaultType,...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:108</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a8c98cfbef302bb28a0961430d250bdd6"><div class="ttname"><a href="class_dynamic_script.html#a8c98cfbef302bb28a0961430d250bdd6">DynamicScript::scriptFile</a></div><div class="ttdeci">String scriptFile</div><div class="ttdoc">The script/module file, if any. Only DSE.ScriptInput and DSE.ModuleInput inputType instances will hav...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:80</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a8cec208838d7a8d283ee16ed0bb9ea3b"><div class="ttname"><a href="class_dynamic_script.html#a8cec208838d7a8d283ee16ed0bb9ea3b">DynamicScript::repeatingStateChanged</a></div><div class="ttdeci">void repeatingStateChanged(bool isRepeating)</div><div class="ttdoc">This event is emitted when an evaluation starts or stops repeating (as per the activation property)....</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a99770fb3fbb3d852b744110552b4403f"><div class="ttname"><a href="class_dynamic_script.html#a99770fb3fbb3d852b744110552b4403f">DynamicScript::setPressedState</a></div><div class="ttdeci">void setPressedState(bool isPressed)</div><div class="ttdoc">This method provides direct control over the current &quot;pressed state&quot; of this script instance,...</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a9a2326f35466e54c36c070829245c557"><div class="ttname"><a href="class_dynamic_script.html#a9a2326f35466e54c36c070829245c557">DynamicScript::name</a></div><div class="ttdeci">String name</div><div class="ttdoc">The Instance Name of this script instance as specified in the corresponding Action which created it....</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:65</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a9ae32d8b2148d59d1d7b1bc30ea770f4"><div class="ttname"><a href="class_dynamic_script.html#a9ae32d8b2148d59d1d7b1bc30ea770f4">DynamicScript::activeRepeatRateChanged</a></div><div class="ttdeci">void activeRepeatRateChanged(int ms)</div><div class="ttdoc">This event is emitted when the value of the activeRepeatRate property changes. The ms parameter value...</div></div>
<div class="ttc" id="aclass_dynamic_script_html_a9d26a6c2cb5c4b6693d392c52b64a607"><div class="ttname"><a href="class_dynamic_script.html#a9d26a6c2cb5c4b6693d392c52b64a607">DynamicScript::stateId</a></div><div class="ttdeci">String stateId</div><div class="ttdoc">The State ID of this instance as used with Touch Portal to uniquely identify this State,...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:155</div></div>
<div class="ttc" id="aclass_dynamic_script_html_ab1351de5234bac2d378240bdfac6e90c"><div class="ttname"><a href="class_dynamic_script.html#ab1351de5234bac2d378240bdfac6e90c">DynamicScript::isPressed</a></div><div class="ttdeci">bool isPressed</div><div class="ttdoc">This property value is true if a button using an Action which invokes this script is currently being ...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:218</div></div>
<div class="ttc" id="aclass_dynamic_script_html_ab17f8cd54ce24d13b26bb6567ed863bf"><div class="ttname"><a href="class_dynamic_script.html#ab17f8cd54ce24d13b26bb6567ed863bf">DynamicScript::activeRepeatRate</a></div><div class="ttdeci">int activeRepeatRate</div><div class="ttdoc">The action repeat rate for the currently repeating script action, in milliseconds....</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:194</div></div>
<div class="ttc" id="aclass_dynamic_script_html_abd385bb0169297e60c07587a3df79ae2"><div class="ttname"><a href="class_dynamic_script.html#abd385bb0169297e60c07587a3df79ae2">DynamicScript::repeatCount</a></div><div class="ttdeci">int repeatCount</div><div class="ttdoc">The number of times the current, or last, repeating action of this instance has repeated....</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:209</div></div>
<div class="ttc" id="aclass_dynamic_script_html_ad001aa6c200db8cdd5299ece92f09fb2"><div class="ttname"><a href="class_dynamic_script.html#ad001aa6c200db8cdd5299ece92f09fb2">DynamicScript::effectiveRepeatRate</a></div><div class="ttdeci">int effectiveRepeatRate</div><div class="ttdoc">The currently effective action repeat rate which is either the global default rate,...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:200</div></div>
<div class="ttc" id="aclass_dynamic_script_html_adf95b86f61ec89522b08f3500367ce1f"><div class="ttname"><a href="class_dynamic_script.html#adf95b86f61ec89522b08f3500367ce1f">DynamicScript::scriptFileResolved</a></div><div class="ttdeci">String scriptFileResolved</div><div class="ttdoc">This property contains the absolute system path to the scriptFile being loaded, potentially after res...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:83</div></div>
<div class="ttc" id="aclass_dynamic_script_html_ae2755bc9aab61465e9fe880ed9d791db"><div class="ttname"><a href="class_dynamic_script.html#ae2755bc9aab61465e9fe880ed9d791db">DynamicScript::repeatCountChanged</a></div><div class="ttdeci">void repeatCountChanged(int repeatCount)</div><div class="ttdoc">This event is emitted when the value of the repeatCount property changes, meaning whenever the evalua...</div></div>
<div class="ttc" id="aclass_dynamic_script_html_ae3e102b02d542d92437bd8a91a387aa8"><div class="ttname"><a href="class_dynamic_script.html#ae3e102b02d542d92437bd8a91a387aa8">DynamicScript::activeRepeatDelay</a></div><div class="ttdeci">int activeRepeatDelay</div><div class="ttdoc">The action repeat delay time for the currently repeating script action, in milliseconds....</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:197</div></div>
<div class="ttc" id="aclass_dynamic_script_html_ae43da0e6f16ee34db59fbe284e942624"><div class="ttname"><a href="class_dynamic_script.html#ae43da0e6f16ee34db59fbe284e942624">DynamicScript::stateUpdate</a></div><div class="ttdeci">void stateUpdate(String &amp;value)</div><div class="ttdoc">Send a Touch Portal State value update using this instance's stateId as the State ID....</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:400</div></div>
<div class="ttc" id="aclass_dynamic_script_html_ae96f1bba519224118b4a2c7c3bd34e05"><div class="ttname"><a href="class_dynamic_script.html#ae96f1bba519224118b4a2c7c3bd34e05">DynamicScript::activation</a></div><div class="ttdeci">DSE::ActivationBehaviors activation</div><div class="ttdoc">The activation property determines how the instance will behave when a control (eg....</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:187</div></div>
<div class="ttc" id="aclass_dynamic_script_html_aea2a09278e8f17ea66e2b7056f9d3b83"><div class="ttname"><a href="class_dynamic_script.html#aea2a09278e8f17ea66e2b7056f9d3b83">DynamicScript::createState</a></div><div class="ttdeci">bool createState</div><div class="ttdoc">This property value is true when when this script instance was created with &quot;Create State&quot; set to &quot;Ye...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:151</div></div>
<div class="ttc" id="aclass_dynamic_script_html_aeb032c293343caa56a8d98d2e9c2efcd"><div class="ttname"><a href="class_dynamic_script.html#aeb032c293343caa56a8d98d2e9c2efcd">DynamicScript::effectiveRepeatDelay</a></div><div class="ttdeci">int effectiveRepeatDelay</div><div class="ttdoc">The currently effective action repeat delay which is either the global default delay,...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:203</div></div>
<div class="ttc" id="aclass_dynamic_script_html_af223e08c09d71010515fccaa3f9c977a"><div class="ttname"><a href="class_dynamic_script.html#af223e08c09d71010515fccaa3f9c977a">DynamicScript::engineName</a></div><div class="ttdeci">String engineName</div><div class="ttdoc">The name of the engine instance this script instance is using for its execution environment....</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:93</div></div>
<div class="ttc" id="aclass_dynamic_script_html_af948da45b36ff3106569689878b07f76"><div class="ttname"><a href="class_dynamic_script.html#af948da45b36ff3106569689878b07f76">DynamicScript::isRepeating</a></div><div class="ttdeci">bool isRepeating</div><div class="ttdoc">true if this script evaluation is currently repeating, false otherwise. The value changes to true eve...</div><div class="ttdef"><b>Definition:</b> DynamicScript.h:214</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.4-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><b>DynamicScript.h</b></li>
    <li class="footer">Generated for Dynamic Script Engine Plugin for Touch Portal &#160;v1.2.0.1-beta1 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
