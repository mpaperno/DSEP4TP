<!-- HTML header for doxygen 1.9.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dynamic Script Engine Plugin for Touch Portal: Basic Operating Principles</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init();
    DoxygenAwesomeParagraphLink.init();
    DoxygenAwesomeInteractiveToc.init();
    // hide the Documentation header and sidebar link since it's redundant when on the docs site already.
    $(window).on('load', () => {
      function removeElements() {
        if (!$("a[class='index.html:autotoc_md10']").length)
          setTimeout(removeElements, 10);
        var el = document.getElementById("autotoc_md10"),
          els = document.getElementsByClassName("index.html:autotoc_md10");
        if (el)
          el.parentNode.style.display = 'none';
        if (els.length)
          els[0].parentElement.parentElement.parentElement.style.display= 'none';
      };
      removeElements();
    });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/mpaperno/DSEP4TP" class="github-corner" title="View source on GitHub" target="_blank">
    <svg viewBox="0 0 250 250" width="40" height="40" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z" fill="url(#gradient)"></path>
    <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
    <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
    <linearGradient id="gradient" x1="0.5" x2="0.5" y1="0" y2="1">
        <stop class="first-stop" offset="0%"></stop>
        <stop class="last-stop" offset="100%"></stop>
    </linearGradient>
    </svg>
</a>
<style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Logo.png" title="Dynamic Script Engine Plugin for Touch Portal - A complete, standalone, multi-threaded JavaScript environment available as a plugin for use with Touch Portal macro launcher software."/></td>
  <td id="projectalign">
   <div id="projectname"><!-- Dynamic Script Engine Plugin for Touch Portal --><span id="projectnumber">&#160;v1.0.0.1-beta1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('plugin_basic.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Basic Operating Principles </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md25">General Theory and Terminology</a><ul><li class="level2"><a href="#doc-script-engine">The engine</a></li>
<li class="level2"><a href="#doc-engine-instance-types">Engine instances</a></li>
<li class="level2"><a href="#doc-named-state-instances">Named instances</a></li>
<li class="level2"><a href="#autotoc_md26">Important:</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p ><a class="anchor" id="md_pages_Basic"></a></p>
<h1><a class="anchor" id="autotoc_md25"></a>
General Theory and Terminology</h1>
<p >The plugin <b>evaluates JavaScript-compatible expressions</b>, from simple math to running (relatively) complex programs.</p>
<p >For the most part this is useful for getting information/data back to Touch Portal, for example to get the result of a math expression as soon as some dynamic value (used in the expression) changes. Such results would be sent to Touch Portal as plug-in "States" (which I will refer to with a capital letter to help avoid confusion with any other kind of state).</p>
<p >That's not an exclusive usage &ndash; scripts can also be run that simply do something useful but do not return any result. <em>Or</em> they may run in the background and send Touch Portal state updates when new data becomes available (such as watching a file for changes or downloading from a URL). But more on that later.</p>
<h2><a class="anchor" id="doc-script-engine"></a>
The engine</h2>
<p >Expressions/scripts are evaluated by the plugin using an <b>evaluation engine</b>. An <b>engine instance</b> is a complete and isolated environment that can run JavaScript scripts, like a <b>mini Web browser</b> or a continuously-running Node.js application (it's not either of those things, but that's the best analogy I have for now).</p>
<p ><b>An engine instance can persist for the life of the plugin</b> (that is, it exists as long as the plugin keeps running).</p><ul>
<li>This is an important distinction vs., say, running a Node.js script from a Touch Portal action (using Run an Application or Run a batch file actions, for example). In the latter case the script has no way of saving information (data) between executions (not easily, anyway), plus every time it starts it will need to re-create it's complete environment, including starting node[.exe] itself and so on. A persistent environment like this plugin provides has no startup "cost" after the initial creation, and allows for easily saving data, or "state" (lower case!), between runs. It's more like a Web browser that stays open and can re-run any loaded scripts on demand w/out restarting the whole thing.</li>
</ul>
<h2><a class="anchor" id="doc-engine-instance-types"></a>
Engine instances</h2>
<p >The plugin can <b>run multiple engine instances</b> at the same time. (Don't worry, this is not like running a bunch of bloated Firefox browsers... each instance only uses a few KB of memory :-) ).</p><ul>
<li>There is always one <b>Shared Instance</b> of an engine in which any expression or script can run and it persists for the life of the plugin (its environment/state can be reset manually if needed).</li>
<li>Any expression/script you want to run via this plugin's actions can optionally use its own <b>Private Instance</b> of an engine. These engines persist after initial creation, independently from each other, for as long as the plugin keeps running or you delete them intentionally.</li>
</ul>
<p >Other differences between Shared and Private engine instances are described after the screenshot... in the first action's description.</p>
<h2><a class="anchor" id="doc-named-state-instances"></a>
Named instances</h2>
<p >Almost all the actions described below (with one exception) revolve around what I call the <b>State Name</b> in the actions and other places.</p><ul>
<li>Because once activated they will create a new Touch Portal State with the name you type in (or update it, if it already exists).</li>
<li>These can also be thought of as <b>named expression/script instances</b> (for lack of a better term).</li>
<li>Each of these named instances can use either the Shared or a Private evaluation engine. So effectively a State Name for an action using a Private engine also becomes the engine instance's name.</li>
<li>These names are referenced in the plugin's other action(s), such as where you can delete one or reset its engine environment (described <a class="el" href="plugin_actions.html#actions_plugin-action">below</a>).</li>
</ul>
<h2><a class="anchor" id="autotoc_md26"></a>
Important:</h2>
<p >To get any kind of result back from the plugin to Touch Portal the plugin creates Touch Portal States dynamically <b>once you tell it to</b>.</p>
<p >Meaning that to be able to select the new State from Touch Portal's interface you have to first send one of the plugin's actions which creates that State in the first place (with a name of your choice, as you'll see below). It's a bit of a <a href="https://en.wikipedia.org/wiki/Catch-22_(logic)" target="_blank">catch-22</a> and this is sometimes a point of confusion.</p>
<p >So in general the procedure for using any of these results is:</p><ol type="1">
<li>First set up one of the actions shown below (which creates a new State); It doesn't have to be your final expression/script, just something valid to create the initial State with.</li>
<li>Then activate this action once somehow (on button press or whatever) &ndash; assuming there are no errors in the expression/script (another good reason to start simple), this will crate the new State in Touch Portal.</li>
<li>Now go back and finish setting up your button/event once the new State has been created and will be available in the various places you can select States from.</li>
</ol>
<p >OK, enough of that, let's get to the Actions!</p>
<p ><span class="next_section_button"> Read Next: <a class="el" href="plugin_actions.html#md_pages_Actions">Plugin Actions</a> </span> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Dec 22 2022 11:06:22 for Dynamic Script Engine Plugin for Touch Portal by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
